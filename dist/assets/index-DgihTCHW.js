(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Km(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sd={exports:{}},Bi={},cd={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=Symbol.for("react.element"),$m=Symbol.for("react.portal"),bm=Symbol.for("react.fragment"),Vm=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Gm=Symbol.for("react.provider"),Wm=Symbol.for("react.context"),Qm=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Xm=Symbol.for("react.memo"),Zm=Symbol.for("react.lazy"),bc=Symbol.iterator;function Jm(e){return e===null||typeof e!="object"?null:(e=bc&&e[bc]||e["@@iterator"],typeof e=="function"?e:null)}var fd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dd=Object.assign,pd={};function go(e,t,n){this.props=e,this.context=t,this.refs=pd,this.updater=n||fd}go.prototype.isReactComponent={};go.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};go.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function md(){}md.prototype=go.prototype;function Us(e,t,n){this.props=e,this.context=t,this.refs=pd,this.updater=n||fd}var Ks=Us.prototype=new md;Ks.constructor=Us;dd(Ks,go.prototype);Ks.isPureReactComponent=!0;var Vc=Array.isArray,hd=Object.prototype.hasOwnProperty,$s={current:null},gd={key:!0,ref:!0,__self:!0,__source:!0};function vd(e,t,n){var r,l={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)hd.call(t,r)&&!gd.hasOwnProperty(r)&&(l[r]=t[r]);var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){for(var i=Array(u),m=0;m<u;m++)i[m]=arguments[m+2];l.children=i}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)l[r]===void 0&&(l[r]=u[r]);return{$$typeof:va,type:e,key:o,ref:a,props:l,_owner:$s.current}}function qm(e,t){return{$$typeof:va,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bs(e){return typeof e=="object"&&e!==null&&e.$$typeof===va}function eh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hc=/\/+/g;function su(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eh(""+e.key):t.toString(36)}function ni(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case va:case $m:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+su(a,0):r,Vc(l)?(n="",e!=null&&(n=e.replace(Hc,"$&/")+"/"),ni(l,t,n,"",function(m){return m})):l!=null&&(bs(l)&&(l=qm(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Hc,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",Vc(e))for(var u=0;u<e.length;u++){o=e[u];var i=r+su(o,u);a+=ni(o,t,n,i,l)}else if(i=Jm(e),typeof i=="function")for(e=i.call(e),u=0;!(o=e.next()).done;)o=o.value,i=r+su(o,u++),a+=ni(o,t,n,i,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Aa(e,t,n){if(e==null)return e;var r=[],l=0;return ni(e,r,"","",function(o){return t.call(n,o,l++)}),r}function th(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kt={current:null},ri={transition:null},nh={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:ri,ReactCurrentOwner:$s};function yd(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:Aa,forEach:function(e,t,n){Aa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Aa(e,function(){t++}),t},toArray:function(e){return Aa(e,function(t){return t})||[]},only:function(e){if(!bs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=go;Y.Fragment=bm;Y.Profiler=Hm;Y.PureComponent=Us;Y.StrictMode=Vm;Y.Suspense=Ym;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nh;Y.act=yd;Y.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dd({},e.props),l=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=$s.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(i in t)hd.call(t,i)&&!gd.hasOwnProperty(i)&&(r[i]=t[i]===void 0&&u!==void 0?u[i]:t[i])}var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){u=Array(i);for(var m=0;m<i;m++)u[m]=arguments[m+2];r.children=u}return{$$typeof:va,type:e.type,key:l,ref:o,props:r,_owner:a}};Y.createContext=function(e){return e={$$typeof:Wm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gm,_context:e},e.Consumer=e};Y.createElement=vd;Y.createFactory=function(e){var t=vd.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:Qm,render:e}};Y.isValidElement=bs;Y.lazy=function(e){return{$$typeof:Zm,_payload:{_status:-1,_result:e},_init:th}};Y.memo=function(e,t){return{$$typeof:Xm,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=ri.transition;ri.transition={};try{e()}finally{ri.transition=t}};Y.unstable_act=yd;Y.useCallback=function(e,t){return kt.current.useCallback(e,t)};Y.useContext=function(e){return kt.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return kt.current.useDeferredValue(e)};Y.useEffect=function(e,t){return kt.current.useEffect(e,t)};Y.useId=function(){return kt.current.useId()};Y.useImperativeHandle=function(e,t,n){return kt.current.useImperativeHandle(e,t,n)};Y.useInsertionEffect=function(e,t){return kt.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return kt.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return kt.current.useMemo(e,t)};Y.useReducer=function(e,t,n){return kt.current.useReducer(e,t,n)};Y.useRef=function(e){return kt.current.useRef(e)};Y.useState=function(e){return kt.current.useState(e)};Y.useSyncExternalStore=function(e,t,n){return kt.current.useSyncExternalStore(e,t,n)};Y.useTransition=function(){return kt.current.useTransition()};Y.version="18.3.1";cd.exports=Y;var v=cd.exports;const rh=Km(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh=v,oh=Symbol.for("react.element"),ah=Symbol.for("react.fragment"),ih=Object.prototype.hasOwnProperty,uh=lh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sh={key:!0,ref:!0,__self:!0,__source:!0};function Sd(e,t,n){var r,l={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)ih.call(t,r)&&!sh.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:oh,type:e,key:o,ref:a,props:l,_owner:uh.current}}Bi.Fragment=ah;Bi.jsx=Sd;Bi.jsxs=Sd;sd.exports=Bi;var w=sd.exports,Gu={},wd={exports:{}},Wt={},xd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,D){var K=N.length;N.push(D);e:for(;0<K;){var X=K-1>>>1,te=N[X];if(0<l(te,D))N[X]=D,N[K]=te,K=X;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],K=N.pop();if(K!==D){N[0]=K;e:for(var X=0,te=N.length,ne=te>>>1;X<ne;){var Fe=2*(X+1)-1,ue=N[Fe],jt=Fe+1,Et=N[jt];if(0>l(ue,K))jt<te&&0>l(Et,ue)?(N[X]=Et,N[jt]=K,X=jt):(N[X]=ue,N[Fe]=K,X=Fe);else if(jt<te&&0>l(Et,K))N[X]=Et,N[jt]=K,X=jt;else break e}}return D}function l(N,D){var K=N.sortIndex-D.sortIndex;return K!==0?K:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var i=[],m=[],f=1,y=null,g=3,x=!1,C=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function s(N){for(var D=n(m);D!==null;){if(D.callback===null)r(m);else if(D.startTime<=N)r(m),D.sortIndex=D.expirationTime,t(i,D);else break;D=n(m)}}function k(N){if(E=!1,s(N),!C)if(n(i)!==null)C=!0,_n(M);else{var D=n(m);D!==null&&Me(k,D.startTime-N)}}function M(N,D){C=!1,E&&(E=!1,p(A),A=-1),x=!0;var K=g;try{for(s(D),y=n(i);y!==null&&(!(y.expirationTime>D)||N&&!ce());){var X=y.callback;if(typeof X=="function"){y.callback=null,g=y.priorityLevel;var te=X(y.expirationTime<=D);D=e.unstable_now(),typeof te=="function"?y.callback=te:y===n(i)&&r(i),s(D)}else r(i);y=n(i)}if(y!==null)var ne=!0;else{var Fe=n(m);Fe!==null&&Me(k,Fe.startTime-D),ne=!1}return ne}finally{y=null,g=K,x=!1}}var R=!1,F=null,A=-1,G=5,B=-1;function ce(){return!(e.unstable_now()-B<G)}function cn(){if(F!==null){var N=e.unstable_now();B=N;var D=!0;try{D=F(!0,N)}finally{D?Re():(R=!1,F=null)}}else R=!1}var Re;if(typeof d=="function")Re=function(){d(cn)};else if(typeof MessageChannel<"u"){var Vn=new MessageChannel,qe=Vn.port2;Vn.port1.onmessage=cn,Re=function(){qe.postMessage(null)}}else Re=function(){_(cn,0)};function _n(N){F=N,R||(R=!0,Re())}function Me(N,D){A=_(function(){N(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){C||x||(C=!0,_n(M))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(i)},e.unstable_next=function(N){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var K=g;g=D;try{return N()}finally{g=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var K=g;g=N;try{return D()}finally{g=K}},e.unstable_scheduleCallback=function(N,D,K){var X=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?X+K:X):K=X,N){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,N={id:f++,callback:D,priorityLevel:N,startTime:K,expirationTime:te,sortIndex:-1},K>X?(N.sortIndex=K,t(m,N),n(i)===null&&N===n(m)&&(E?(p(A),A=-1):E=!0,Me(k,K-X))):(N.sortIndex=te,t(i,N),C||x||(C=!0,_n(M))),N},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(N){var D=g;return function(){var K=g;g=D;try{return N.apply(this,arguments)}finally{g=K}}}})(kd);xd.exports=kd;var ch=xd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=v,Gt=ch;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cd=new Set,ea={};function xl(e,t){uo(e,t),uo(e+"Capture",t)}function uo(e,t){for(ea[e]=t,e=0;e<t.length;e++)Cd.add(t[e])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=Object.prototype.hasOwnProperty,dh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gc={},Wc={};function ph(e){return Wu.call(Wc,e)?!0:Wu.call(Gc,e)?!1:dh.test(e)?Wc[e]=!0:(Gc[e]=!0,!1)}function mh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hh(e,t,n,r){if(t===null||typeof t>"u"||mh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,n,r,l,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vs=/[\-:]([a-z])/g;function Hs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vs,Hs);it[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vs,Hs);it[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vs,Hs);it[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gs(e,t,n,r){var l=it.hasOwnProperty(t)?it[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hh(t,n,l,r)&&(n=null),r||l===null?ph(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mr=fh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),bl=Symbol.for("react.portal"),Vl=Symbol.for("react.fragment"),Ws=Symbol.for("react.strict_mode"),Qu=Symbol.for("react.profiler"),Ed=Symbol.for("react.provider"),Rd=Symbol.for("react.context"),Qs=Symbol.for("react.forward_ref"),Yu=Symbol.for("react.suspense"),Xu=Symbol.for("react.suspense_list"),Ys=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),Md=Symbol.for("react.offscreen"),Qc=Symbol.iterator;function Fo(e){return e===null||typeof e!="object"?null:(e=Qc&&e[Qc]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,cu;function Ko(e){if(cu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cu=t&&t[1]||""}return`
`+cu+e}var fu=!1;function du(e,t){if(!e||fu)return"";fu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),o=r.stack.split(`
`),a=l.length-1,u=o.length-1;1<=a&&0<=u&&l[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(l[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||l[a]!==o[u]){var i=`
`+l[a].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=a&&0<=u);break}}}finally{fu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ko(e):""}function gh(e){switch(e.tag){case 5:return Ko(e.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return e=du(e.type,!1),e;case 11:return e=du(e.type.render,!1),e;case 1:return e=du(e.type,!0),e;default:return""}}function Zu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vl:return"Fragment";case bl:return"Portal";case Qu:return"Profiler";case Ws:return"StrictMode";case Yu:return"Suspense";case Xu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rd:return(e.displayName||"Context")+".Consumer";case Ed:return(e._context.displayName||"Context")+".Provider";case Qs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ys:return t=e.displayName||null,t!==null?t:Zu(e.type)||"Memo";case Lr:t=e._payload,e=e._init;try{return Zu(e(t))}catch{}}return null}function vh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zu(t);case 8:return t===Ws?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yh(e){var t=Td(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Da(e){e._valueTracker||(e._valueTracker=yh(e))}function Pd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Td(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ju(e,t){var n=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _d(e,t){t=t.checked,t!=null&&Gs(e,"checked",t,!1)}function qu(e,t){_d(e,t);var n=Qr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?es(e,t.type,n):t.hasOwnProperty("defaultValue")&&es(e,t.type,Qr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function es(e,t,n){(t!=="number"||hi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $o=Array.isArray;function no(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qr(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ts(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if($o(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qr(n)}}function Fd(e,t){var n=Qr(t.value),r=Qr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ns(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var za,Id=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ta(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sh=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(e){Sh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ho[t]=Ho[e]})});function Ld(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ho.hasOwnProperty(e)&&Ho[e]?(""+t).trim():t+"px"}function Ad(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Ld(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var wh=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rs(e,t){if(t){if(wh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function ls(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var as=null,ro=null,lo=null;function qc(e){if(e=wa(e)){if(typeof as!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Vi(t),as(e.stateNode,e.type,t))}}function jd(e){ro?lo?lo.push(e):lo=[e]:ro=e}function Dd(){if(ro){var e=ro,t=lo;if(lo=ro=null,qc(e),t)for(e=0;e<t.length;e++)qc(t[e])}}function zd(e,t){return e(t)}function Od(){}var pu=!1;function Bd(e,t,n){if(pu)return e(t,n);pu=!0;try{return zd(e,t,n)}finally{pu=!1,(ro!==null||lo!==null)&&(Od(),Dd())}}function na(e,t){var n=e.stateNode;if(n===null)return null;var r=Vi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var is=!1;if(cr)try{var No={};Object.defineProperty(No,"passive",{get:function(){is=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{is=!1}function xh(e,t,n,r,l,o,a,u,i){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(f){this.onError(f)}}var Go=!1,gi=null,vi=!1,us=null,kh={onError:function(e){Go=!0,gi=e}};function Ch(e,t,n,r,l,o,a,u,i){Go=!1,gi=null,xh.apply(kh,arguments)}function Eh(e,t,n,r,l,o,a,u,i){if(Ch.apply(this,arguments),Go){if(Go){var m=gi;Go=!1,gi=null}else throw Error(P(198));vi||(vi=!0,us=m)}}function kl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ud(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ef(e){if(kl(e)!==e)throw Error(P(188))}function Rh(e){var t=e.alternate;if(!t){if(t=kl(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return ef(l),e;if(o===r)return ef(l),t;o=o.sibling}throw Error(P(188))}if(n.return!==r.return)n=l,r=o;else{for(var a=!1,u=l.child;u;){if(u===n){a=!0,n=l,r=o;break}if(u===r){a=!0,r=l,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=l;break}if(u===r){a=!0,r=o,n=l;break}u=u.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Kd(e){return e=Rh(e),e!==null?$d(e):null}function $d(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$d(e);if(t!==null)return t;e=e.sibling}return null}var bd=Gt.unstable_scheduleCallback,tf=Gt.unstable_cancelCallback,Mh=Gt.unstable_shouldYield,Th=Gt.unstable_requestPaint,ze=Gt.unstable_now,Ph=Gt.unstable_getCurrentPriorityLevel,Zs=Gt.unstable_ImmediatePriority,Vd=Gt.unstable_UserBlockingPriority,yi=Gt.unstable_NormalPriority,_h=Gt.unstable_LowPriority,Hd=Gt.unstable_IdlePriority,Ui=null,$n=null;function Fh(e){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Ui,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:Lh,Nh=Math.log,Ih=Math.LN2;function Lh(e){return e>>>=0,e===0?32:31-(Nh(e)/Ih|0)|0}var Oa=64,Ba=4194304;function bo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Si(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var u=a&~l;u!==0?r=bo(u):(o&=a,o!==0&&(r=bo(o)))}else a=n&~l,a!==0?r=bo(a):o!==0&&(r=bo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mn(t),l=1<<n,r|=e[n],t&=~l;return r}function Ah(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Mn(o),u=1<<a,i=l[a];i===-1?(!(u&n)||u&r)&&(l[a]=Ah(u,t)):i<=t&&(e.expiredLanes|=u),o&=~u}}function ss(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gd(){var e=Oa;return Oa<<=1,!(Oa&4194240)&&(Oa=64),e}function mu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ya(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mn(t),e[t]=n}function Dh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Mn(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function Js(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mn(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ie=0;function Wd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qd,qs,Yd,Xd,Zd,cs=!1,Ua=[],Ur=null,Kr=null,$r=null,ra=new Map,la=new Map,Dr=[],zh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nf(e,t){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":ra.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(t.pointerId)}}function Io(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=wa(t),t!==null&&qs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Oh(e,t,n,r,l){switch(t){case"focusin":return Ur=Io(Ur,e,t,n,r,l),!0;case"dragenter":return Kr=Io(Kr,e,t,n,r,l),!0;case"mouseover":return $r=Io($r,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return ra.set(o,Io(ra.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,la.set(o,Io(la.get(o)||null,e,t,n,r,l)),!0}return!1}function Jd(e){var t=fl(e.target);if(t!==null){var n=kl(t);if(n!==null){if(t=n.tag,t===13){if(t=Ud(n),t!==null){e.blockedOn=t,Zd(e.priority,function(){Yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);os=r,n.target.dispatchEvent(r),os=null}else return t=wa(n),t!==null&&qs(t),e.blockedOn=n,!1;t.shift()}return!0}function rf(e,t,n){li(e)&&n.delete(t)}function Bh(){cs=!1,Ur!==null&&li(Ur)&&(Ur=null),Kr!==null&&li(Kr)&&(Kr=null),$r!==null&&li($r)&&($r=null),ra.forEach(rf),la.forEach(rf)}function Lo(e,t){e.blockedOn===t&&(e.blockedOn=null,cs||(cs=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,Bh)))}function oa(e){function t(l){return Lo(l,e)}if(0<Ua.length){Lo(Ua[0],e);for(var n=1;n<Ua.length;n++){var r=Ua[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ur!==null&&Lo(Ur,e),Kr!==null&&Lo(Kr,e),$r!==null&&Lo($r,e),ra.forEach(t),la.forEach(t),n=0;n<Dr.length;n++)r=Dr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dr.length&&(n=Dr[0],n.blockedOn===null);)Jd(n),n.blockedOn===null&&Dr.shift()}var oo=mr.ReactCurrentBatchConfig,wi=!0;function Uh(e,t,n,r){var l=ie,o=oo.transition;oo.transition=null;try{ie=1,ec(e,t,n,r)}finally{ie=l,oo.transition=o}}function Kh(e,t,n,r){var l=ie,o=oo.transition;oo.transition=null;try{ie=4,ec(e,t,n,r)}finally{ie=l,oo.transition=o}}function ec(e,t,n,r){if(wi){var l=fs(e,t,n,r);if(l===null)Eu(e,t,r,xi,n),nf(e,r);else if(Oh(l,e,t,n,r))r.stopPropagation();else if(nf(e,r),t&4&&-1<zh.indexOf(e)){for(;l!==null;){var o=wa(l);if(o!==null&&Qd(o),o=fs(e,t,n,r),o===null&&Eu(e,t,r,xi,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else Eu(e,t,r,null,n)}}var xi=null;function fs(e,t,n,r){if(xi=null,e=Xs(r),e=fl(e),e!==null)if(t=kl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ud(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xi=e,null}function qd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ph()){case Zs:return 1;case Vd:return 4;case yi:case _h:return 16;case Hd:return 536870912;default:return 16}default:return 16}}var Or=null,tc=null,oi=null;function ep(){if(oi)return oi;var e,t=tc,n=t.length,r,l="value"in Or?Or.value:Or.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[o-r];r++);return oi=l.slice(e,1<r?1-r:void 0)}function ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ka(){return!0}function lf(){return!1}function Qt(e){function t(n,r,l,o,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ka:lf,this.isPropagationStopped=lf,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),t}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=Qt(vo),Sa=_e({},vo,{view:0,detail:0}),$h=Qt(Sa),hu,gu,Ao,Ki=_e({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ao&&(Ao&&e.type==="mousemove"?(hu=e.screenX-Ao.screenX,gu=e.screenY-Ao.screenY):gu=hu=0,Ao=e),hu)},movementY:function(e){return"movementY"in e?e.movementY:gu}}),of=Qt(Ki),bh=_e({},Ki,{dataTransfer:0}),Vh=Qt(bh),Hh=_e({},Sa,{relatedTarget:0}),vu=Qt(Hh),Gh=_e({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),Wh=Qt(Gh),Qh=_e({},vo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yh=Qt(Qh),Xh=_e({},vo,{data:0}),af=Qt(Xh),Zh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qh[e])?!!t[e]:!1}function rc(){return e0}var t0=_e({},Sa,{key:function(e){if(e.key){var t=Zh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),n0=Qt(t0),r0=_e({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uf=Qt(r0),l0=_e({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),o0=Qt(l0),a0=_e({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=Qt(a0),u0=_e({},Ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),s0=Qt(u0),c0=[9,13,27,32],lc=cr&&"CompositionEvent"in window,Wo=null;cr&&"documentMode"in document&&(Wo=document.documentMode);var f0=cr&&"TextEvent"in window&&!Wo,tp=cr&&(!lc||Wo&&8<Wo&&11>=Wo),sf=" ",cf=!1;function np(e,t){switch(e){case"keyup":return c0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hl=!1;function d0(e,t){switch(e){case"compositionend":return rp(t);case"keypress":return t.which!==32?null:(cf=!0,sf);case"textInput":return e=t.data,e===sf&&cf?null:e;default:return null}}function p0(e,t){if(Hl)return e==="compositionend"||!lc&&np(e,t)?(e=ep(),oi=tc=Or=null,Hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tp&&t.locale!=="ko"?null:t.data;default:return null}}var m0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!m0[e.type]:t==="textarea"}function lp(e,t,n,r){jd(r),t=ki(t,"onChange"),0<t.length&&(n=new nc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qo=null,aa=null;function h0(e){hp(e,0)}function $i(e){var t=Ql(e);if(Pd(t))return e}function g0(e,t){if(e==="change")return t}var op=!1;if(cr){var yu;if(cr){var Su="oninput"in document;if(!Su){var df=document.createElement("div");df.setAttribute("oninput","return;"),Su=typeof df.oninput=="function"}yu=Su}else yu=!1;op=yu&&(!document.documentMode||9<document.documentMode)}function pf(){Qo&&(Qo.detachEvent("onpropertychange",ap),aa=Qo=null)}function ap(e){if(e.propertyName==="value"&&$i(aa)){var t=[];lp(t,aa,e,Xs(e)),Bd(h0,t)}}function v0(e,t,n){e==="focusin"?(pf(),Qo=t,aa=n,Qo.attachEvent("onpropertychange",ap)):e==="focusout"&&pf()}function y0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $i(aa)}function S0(e,t){if(e==="click")return $i(t)}function w0(e,t){if(e==="input"||e==="change")return $i(t)}function x0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pn=typeof Object.is=="function"?Object.is:x0;function ia(e,t){if(Pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Wu.call(t,l)||!Pn(e[l],t[l]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hf(e,t){var n=mf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mf(n)}}function ip(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ip(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function up(){for(var e=window,t=hi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hi(e.document)}return t}function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function k0(e){var t=up(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ip(n.ownerDocument.documentElement,n)){if(r!==null&&oc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=hf(n,o);var a=hf(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var C0=cr&&"documentMode"in document&&11>=document.documentMode,Gl=null,ds=null,Yo=null,ps=!1;function gf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ps||Gl==null||Gl!==hi(r)||(r=Gl,"selectionStart"in r&&oc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yo&&ia(Yo,r)||(Yo=r,r=ki(ds,"onSelect"),0<r.length&&(t=new nc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gl)))}function $a(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wl={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},wu={},sp={};cr&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function bi(e){if(wu[e])return wu[e];if(!Wl[e])return e;var t=Wl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sp)return wu[e]=t[n];return e}var cp=bi("animationend"),fp=bi("animationiteration"),dp=bi("animationstart"),pp=bi("transitionend"),mp=new Map,vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(e,t){mp.set(e,t),xl(t,[e])}for(var xu=0;xu<vf.length;xu++){var ku=vf[xu],E0=ku.toLowerCase(),R0=ku[0].toUpperCase()+ku.slice(1);Xr(E0,"on"+R0)}Xr(cp,"onAnimationEnd");Xr(fp,"onAnimationIteration");Xr(dp,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(pp,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function yf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Eh(r,t,void 0,e),e.currentTarget=null}function hp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],i=u.instance,m=u.currentTarget;if(u=u.listener,i!==o&&l.isPropagationStopped())break e;yf(l,u,m),o=i}else for(a=0;a<r.length;a++){if(u=r[a],i=u.instance,m=u.currentTarget,u=u.listener,i!==o&&l.isPropagationStopped())break e;yf(l,u,m),o=i}}}if(vi)throw e=us,vi=!1,us=null,e}function Se(e,t){var n=t[ys];n===void 0&&(n=t[ys]=new Set);var r=e+"__bubble";n.has(r)||(gp(t,e,2,!1),n.add(r))}function Cu(e,t,n){var r=0;t&&(r|=4),gp(n,e,r,t)}var ba="_reactListening"+Math.random().toString(36).slice(2);function ua(e){if(!e[ba]){e[ba]=!0,Cd.forEach(function(n){n!=="selectionchange"&&(M0.has(n)||Cu(n,!1,e),Cu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ba]||(t[ba]=!0,Cu("selectionchange",!1,t))}}function gp(e,t,n,r){switch(qd(t)){case 1:var l=Uh;break;case 4:l=Kh;break;default:l=ec}n=l.bind(null,t,n,e),l=void 0,!is||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Eu(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var i=a.tag;if((i===3||i===4)&&(i=a.stateNode.containerInfo,i===l||i.nodeType===8&&i.parentNode===l))return;a=a.return}for(;u!==null;){if(a=fl(u),a===null)return;if(i=a.tag,i===5||i===6){r=o=a;continue e}u=u.parentNode}}r=r.return}Bd(function(){var m=o,f=Xs(n),y=[];e:{var g=mp.get(e);if(g!==void 0){var x=nc,C=e;switch(e){case"keypress":if(ai(n)===0)break e;case"keydown":case"keyup":x=n0;break;case"focusin":C="focus",x=vu;break;case"focusout":C="blur",x=vu;break;case"beforeblur":case"afterblur":x=vu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=o0;break;case cp:case fp:case dp:x=Wh;break;case pp:x=i0;break;case"scroll":x=$h;break;case"wheel":x=s0;break;case"copy":case"cut":case"paste":x=Yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=uf}var E=(t&4)!==0,_=!E&&e==="scroll",p=E?g!==null?g+"Capture":null:g;E=[];for(var d=m,s;d!==null;){s=d;var k=s.stateNode;if(s.tag===5&&k!==null&&(s=k,p!==null&&(k=na(d,p),k!=null&&E.push(sa(d,k,s)))),_)break;d=d.return}0<E.length&&(g=new x(g,C,null,n,f),y.push({event:g,listeners:E}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==os&&(C=n.relatedTarget||n.fromElement)&&(fl(C)||C[fr]))break e;if((x||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,x?(C=n.relatedTarget||n.toElement,x=m,C=C?fl(C):null,C!==null&&(_=kl(C),C!==_||C.tag!==5&&C.tag!==6)&&(C=null)):(x=null,C=m),x!==C)){if(E=of,k="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(E=uf,k="onPointerLeave",p="onPointerEnter",d="pointer"),_=x==null?g:Ql(x),s=C==null?g:Ql(C),g=new E(k,d+"leave",x,n,f),g.target=_,g.relatedTarget=s,k=null,fl(f)===m&&(E=new E(p,d+"enter",C,n,f),E.target=s,E.relatedTarget=_,k=E),_=k,x&&C)t:{for(E=x,p=C,d=0,s=E;s;s=Ul(s))d++;for(s=0,k=p;k;k=Ul(k))s++;for(;0<d-s;)E=Ul(E),d--;for(;0<s-d;)p=Ul(p),s--;for(;d--;){if(E===p||p!==null&&E===p.alternate)break t;E=Ul(E),p=Ul(p)}E=null}else E=null;x!==null&&Sf(y,g,x,E,!1),C!==null&&_!==null&&Sf(y,_,C,E,!0)}}e:{if(g=m?Ql(m):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var M=g0;else if(ff(g))if(op)M=w0;else{M=y0;var R=v0}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=S0);if(M&&(M=M(e,m))){lp(y,M,n,f);break e}R&&R(e,g,m),e==="focusout"&&(R=g._wrapperState)&&R.controlled&&g.type==="number"&&es(g,"number",g.value)}switch(R=m?Ql(m):window,e){case"focusin":(ff(R)||R.contentEditable==="true")&&(Gl=R,ds=m,Yo=null);break;case"focusout":Yo=ds=Gl=null;break;case"mousedown":ps=!0;break;case"contextmenu":case"mouseup":case"dragend":ps=!1,gf(y,n,f);break;case"selectionchange":if(C0)break;case"keydown":case"keyup":gf(y,n,f)}var F;if(lc)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Hl?np(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(tp&&n.locale!=="ko"&&(Hl||A!=="onCompositionStart"?A==="onCompositionEnd"&&Hl&&(F=ep()):(Or=f,tc="value"in Or?Or.value:Or.textContent,Hl=!0)),R=ki(m,A),0<R.length&&(A=new af(A,e,null,n,f),y.push({event:A,listeners:R}),F?A.data=F:(F=rp(n),F!==null&&(A.data=F)))),(F=f0?d0(e,n):p0(e,n))&&(m=ki(m,"onBeforeInput"),0<m.length&&(f=new af("onBeforeInput","beforeinput",null,n,f),y.push({event:f,listeners:m}),f.data=F))}hp(y,t)})}function sa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ki(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=na(e,n),o!=null&&r.unshift(sa(e,o,l)),o=na(e,t),o!=null&&r.push(sa(e,o,l))),e=e.return}return r}function Ul(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sf(e,t,n,r,l){for(var o=t._reactName,a=[];n!==null&&n!==r;){var u=n,i=u.alternate,m=u.stateNode;if(i!==null&&i===r)break;u.tag===5&&m!==null&&(u=m,l?(i=na(n,o),i!=null&&a.unshift(sa(n,i,u))):l||(i=na(n,o),i!=null&&a.push(sa(n,i,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var T0=/\r\n?/g,P0=/\u0000|\uFFFD/g;function wf(e){return(typeof e=="string"?e:""+e).replace(T0,`
`).replace(P0,"")}function Va(e,t,n){if(t=wf(t),wf(e)!==t&&n)throw Error(P(425))}function Ci(){}var ms=null,hs=null;function gs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vs=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,xf=typeof Promise=="function"?Promise:void 0,F0=typeof queueMicrotask=="function"?queueMicrotask:typeof xf<"u"?function(e){return xf.resolve(null).then(e).catch(N0)}:vs;function N0(e){setTimeout(function(){throw e})}function Ru(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),oa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);oa(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yo=Math.random().toString(36).slice(2),Kn="__reactFiber$"+yo,ca="__reactProps$"+yo,fr="__reactContainer$"+yo,ys="__reactEvents$"+yo,I0="__reactListeners$"+yo,L0="__reactHandles$"+yo;function fl(e){var t=e[Kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[Kn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kf(e);e!==null;){if(n=e[Kn])return n;e=kf(e)}return t}e=n,n=e.parentNode}return null}function wa(e){return e=e[Kn]||e[fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ql(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Vi(e){return e[ca]||null}var Ss=[],Yl=-1;function Zr(e){return{current:e}}function we(e){0>Yl||(e.current=Ss[Yl],Ss[Yl]=null,Yl--)}function pe(e,t){Yl++,Ss[Yl]=e.current,e.current=t}var Yr={},gt=Zr(Yr),It=Zr(!1),gl=Yr;function so(e,t){var n=e.type.contextTypes;if(!n)return Yr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Lt(e){return e=e.childContextTypes,e!=null}function Ei(){we(It),we(gt)}function Cf(e,t,n){if(gt.current!==Yr)throw Error(P(168));pe(gt,t),pe(It,n)}function vp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(P(108,vh(e)||"Unknown",l));return _e({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,gl=gt.current,pe(gt,e),pe(It,It.current),!0}function Ef(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=vp(e,t,gl),r.__reactInternalMemoizedMergedChildContext=e,we(It),we(gt),pe(gt,e)):we(It),pe(It,n)}var ar=null,Hi=!1,Mu=!1;function yp(e){ar===null?ar=[e]:ar.push(e)}function A0(e){Hi=!0,yp(e)}function Jr(){if(!Mu&&ar!==null){Mu=!0;var e=0,t=ie;try{var n=ar;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ar=null,Hi=!1}catch(l){throw ar!==null&&(ar=ar.slice(e+1)),bd(Zs,Jr),l}finally{ie=t,Mu=!1}}return null}var Xl=[],Zl=0,Mi=null,Ti=0,rn=[],ln=0,vl=null,ir=1,ur="";function sl(e,t){Xl[Zl++]=Ti,Xl[Zl++]=Mi,Mi=e,Ti=t}function Sp(e,t,n){rn[ln++]=ir,rn[ln++]=ur,rn[ln++]=vl,vl=e;var r=ir;e=ur;var l=32-Mn(r)-1;r&=~(1<<l),n+=1;var o=32-Mn(t)+l;if(30<o){var a=l-l%5;o=(r&(1<<a)-1).toString(32),r>>=a,l-=a,ir=1<<32-Mn(t)+l|n<<l|r,ur=o+e}else ir=1<<o|n<<l|r,ur=e}function ac(e){e.return!==null&&(sl(e,1),Sp(e,1,0))}function ic(e){for(;e===Mi;)Mi=Xl[--Zl],Xl[Zl]=null,Ti=Xl[--Zl],Xl[Zl]=null;for(;e===vl;)vl=rn[--ln],rn[ln]=null,ur=rn[--ln],rn[ln]=null,ir=rn[--ln],rn[ln]=null}var Ht=null,Vt=null,Ee=!1,En=null;function wp(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ht=e,Vt=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ht=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vl!==null?{id:ir,overflow:ur}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ht=e,Vt=null,!0):!1;default:return!1}}function ws(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xs(e){if(Ee){var t=Vt;if(t){var n=t;if(!Rf(e,t)){if(ws(e))throw Error(P(418));t=br(n.nextSibling);var r=Ht;t&&Rf(e,t)?wp(r,n):(e.flags=e.flags&-4097|2,Ee=!1,Ht=e)}}else{if(ws(e))throw Error(P(418));e.flags=e.flags&-4097|2,Ee=!1,Ht=e}}}function Mf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ht=e}function Ha(e){if(e!==Ht)return!1;if(!Ee)return Mf(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gs(e.type,e.memoizedProps)),t&&(t=Vt)){if(ws(e))throw xp(),Error(P(418));for(;t;)wp(e,t),t=br(t.nextSibling)}if(Mf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vt=br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=Ht?br(e.stateNode.nextSibling):null;return!0}function xp(){for(var e=Vt;e;)e=br(e.nextSibling)}function co(){Vt=Ht=null,Ee=!1}function uc(e){En===null?En=[e]:En.push(e)}var j0=mr.ReactCurrentBatchConfig;function jo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var u=l.refs;a===null?delete u[o]:u[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tf(e){var t=e._init;return t(e._payload)}function kp(e){function t(p,d){if(e){var s=p.deletions;s===null?(p.deletions=[d],p.flags|=16):s.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function l(p,d){return p=Wr(p,d),p.index=0,p.sibling=null,p}function o(p,d,s){return p.index=s,e?(s=p.alternate,s!==null?(s=s.index,s<d?(p.flags|=2,d):s):(p.flags|=2,d)):(p.flags|=1048576,d)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function u(p,d,s,k){return d===null||d.tag!==6?(d=Lu(s,p.mode,k),d.return=p,d):(d=l(d,s),d.return=p,d)}function i(p,d,s,k){var M=s.type;return M===Vl?f(p,d,s.props.children,k,s.key):d!==null&&(d.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Lr&&Tf(M)===d.type)?(k=l(d,s.props),k.ref=jo(p,d,s),k.return=p,k):(k=pi(s.type,s.key,s.props,null,p.mode,k),k.ref=jo(p,d,s),k.return=p,k)}function m(p,d,s,k){return d===null||d.tag!==4||d.stateNode.containerInfo!==s.containerInfo||d.stateNode.implementation!==s.implementation?(d=Au(s,p.mode,k),d.return=p,d):(d=l(d,s.children||[]),d.return=p,d)}function f(p,d,s,k,M){return d===null||d.tag!==7?(d=hl(s,p.mode,k,M),d.return=p,d):(d=l(d,s),d.return=p,d)}function y(p,d,s){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Lu(""+d,p.mode,s),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ja:return s=pi(d.type,d.key,d.props,null,p.mode,s),s.ref=jo(p,null,d),s.return=p,s;case bl:return d=Au(d,p.mode,s),d.return=p,d;case Lr:var k=d._init;return y(p,k(d._payload),s)}if($o(d)||Fo(d))return d=hl(d,p.mode,s,null),d.return=p,d;Ga(p,d)}return null}function g(p,d,s,k){var M=d!==null?d.key:null;if(typeof s=="string"&&s!==""||typeof s=="number")return M!==null?null:u(p,d,""+s,k);if(typeof s=="object"&&s!==null){switch(s.$$typeof){case ja:return s.key===M?i(p,d,s,k):null;case bl:return s.key===M?m(p,d,s,k):null;case Lr:return M=s._init,g(p,d,M(s._payload),k)}if($o(s)||Fo(s))return M!==null?null:f(p,d,s,k,null);Ga(p,s)}return null}function x(p,d,s,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(s)||null,u(d,p,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ja:return p=p.get(k.key===null?s:k.key)||null,i(d,p,k,M);case bl:return p=p.get(k.key===null?s:k.key)||null,m(d,p,k,M);case Lr:var R=k._init;return x(p,d,s,R(k._payload),M)}if($o(k)||Fo(k))return p=p.get(s)||null,f(d,p,k,M,null);Ga(d,k)}return null}function C(p,d,s,k){for(var M=null,R=null,F=d,A=d=0,G=null;F!==null&&A<s.length;A++){F.index>A?(G=F,F=null):G=F.sibling;var B=g(p,F,s[A],k);if(B===null){F===null&&(F=G);break}e&&F&&B.alternate===null&&t(p,F),d=o(B,d,A),R===null?M=B:R.sibling=B,R=B,F=G}if(A===s.length)return n(p,F),Ee&&sl(p,A),M;if(F===null){for(;A<s.length;A++)F=y(p,s[A],k),F!==null&&(d=o(F,d,A),R===null?M=F:R.sibling=F,R=F);return Ee&&sl(p,A),M}for(F=r(p,F);A<s.length;A++)G=x(F,p,A,s[A],k),G!==null&&(e&&G.alternate!==null&&F.delete(G.key===null?A:G.key),d=o(G,d,A),R===null?M=G:R.sibling=G,R=G);return e&&F.forEach(function(ce){return t(p,ce)}),Ee&&sl(p,A),M}function E(p,d,s,k){var M=Fo(s);if(typeof M!="function")throw Error(P(150));if(s=M.call(s),s==null)throw Error(P(151));for(var R=M=null,F=d,A=d=0,G=null,B=s.next();F!==null&&!B.done;A++,B=s.next()){F.index>A?(G=F,F=null):G=F.sibling;var ce=g(p,F,B.value,k);if(ce===null){F===null&&(F=G);break}e&&F&&ce.alternate===null&&t(p,F),d=o(ce,d,A),R===null?M=ce:R.sibling=ce,R=ce,F=G}if(B.done)return n(p,F),Ee&&sl(p,A),M;if(F===null){for(;!B.done;A++,B=s.next())B=y(p,B.value,k),B!==null&&(d=o(B,d,A),R===null?M=B:R.sibling=B,R=B);return Ee&&sl(p,A),M}for(F=r(p,F);!B.done;A++,B=s.next())B=x(F,p,A,B.value,k),B!==null&&(e&&B.alternate!==null&&F.delete(B.key===null?A:B.key),d=o(B,d,A),R===null?M=B:R.sibling=B,R=B);return e&&F.forEach(function(cn){return t(p,cn)}),Ee&&sl(p,A),M}function _(p,d,s,k){if(typeof s=="object"&&s!==null&&s.type===Vl&&s.key===null&&(s=s.props.children),typeof s=="object"&&s!==null){switch(s.$$typeof){case ja:e:{for(var M=s.key,R=d;R!==null;){if(R.key===M){if(M=s.type,M===Vl){if(R.tag===7){n(p,R.sibling),d=l(R,s.props.children),d.return=p,p=d;break e}}else if(R.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Lr&&Tf(M)===R.type){n(p,R.sibling),d=l(R,s.props),d.ref=jo(p,R,s),d.return=p,p=d;break e}n(p,R);break}else t(p,R);R=R.sibling}s.type===Vl?(d=hl(s.props.children,p.mode,k,s.key),d.return=p,p=d):(k=pi(s.type,s.key,s.props,null,p.mode,k),k.ref=jo(p,d,s),k.return=p,p=k)}return a(p);case bl:e:{for(R=s.key;d!==null;){if(d.key===R)if(d.tag===4&&d.stateNode.containerInfo===s.containerInfo&&d.stateNode.implementation===s.implementation){n(p,d.sibling),d=l(d,s.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=Au(s,p.mode,k),d.return=p,p=d}return a(p);case Lr:return R=s._init,_(p,d,R(s._payload),k)}if($o(s))return C(p,d,s,k);if(Fo(s))return E(p,d,s,k);Ga(p,s)}return typeof s=="string"&&s!==""||typeof s=="number"?(s=""+s,d!==null&&d.tag===6?(n(p,d.sibling),d=l(d,s),d.return=p,p=d):(n(p,d),d=Lu(s,p.mode,k),d.return=p,p=d),a(p)):n(p,d)}return _}var fo=kp(!0),Cp=kp(!1),Pi=Zr(null),_i=null,Jl=null,sc=null;function cc(){sc=Jl=_i=null}function fc(e){var t=Pi.current;we(Pi),e._currentValue=t}function ks(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ao(e,t){_i=e,sc=Jl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nt=!0),e.firstContext=null)}function un(e){var t=e._currentValue;if(sc!==e)if(e={context:e,memoizedValue:t,next:null},Jl===null){if(_i===null)throw Error(P(308));Jl=e,_i.dependencies={lanes:0,firstContext:e}}else Jl=Jl.next=e;return t}var dl=null;function dc(e){dl===null?dl=[e]:dl.push(e)}function Ep(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,dc(t)):(n.next=l.next,l.next=n),t.interleaved=n,dr(e,r)}function dr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ar=!1;function pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,dr(e,n)}return l=r.interleaved,l===null?(t.next=t,dc(r)):(t.next=l.next,l.next=t),r.interleaved=t,dr(e,n)}function ii(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Js(e,n)}}function Pf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var l=e.updateQueue;Ar=!1;var o=l.firstBaseUpdate,a=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var i=u,m=i.next;i.next=null,a===null?o=m:a.next=m,a=i;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==a&&(u===null?f.firstBaseUpdate=m:u.next=m,f.lastBaseUpdate=i))}if(o!==null){var y=l.baseState;a=0,f=m=i=null,u=o;do{var g=u.lane,x=u.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:x,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=e,E=u;switch(g=t,x=n,E.tag){case 1:if(C=E.payload,typeof C=="function"){y=C.call(x,y,g);break e}y=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=E.payload,g=typeof C=="function"?C.call(x,y,g):C,g==null)break e;y=_e({},y,g);break e;case 2:Ar=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[u]:g.push(u))}else x={eventTime:x,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(m=f=x,i=y):f=f.next=x,a|=g;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;g=u,u=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(f===null&&(i=y),l.baseState=i,l.firstBaseUpdate=m,l.lastBaseUpdate=f,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);Sl|=a,e.lanes=a,e.memoizedState=y}}function _f(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(P(191,l));l.call(r)}}}var xa={},bn=Zr(xa),fa=Zr(xa),da=Zr(xa);function pl(e){if(e===xa)throw Error(P(174));return e}function mc(e,t){switch(pe(da,t),pe(fa,e),pe(bn,xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ns(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ns(t,e)}we(bn),pe(bn,t)}function po(){we(bn),we(fa),we(da)}function Mp(e){pl(da.current);var t=pl(bn.current),n=ns(t,e.type);t!==n&&(pe(fa,e),pe(bn,n))}function hc(e){fa.current===e&&(we(bn),we(fa))}var Te=Zr(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tu=[];function gc(){for(var e=0;e<Tu.length;e++)Tu[e]._workInProgressVersionPrimary=null;Tu.length=0}var ui=mr.ReactCurrentDispatcher,Pu=mr.ReactCurrentBatchConfig,yl=0,Pe=null,He=null,Ze=null,Ii=!1,Xo=!1,pa=0,D0=0;function pt(){throw Error(P(321))}function vc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pn(e[n],t[n]))return!1;return!0}function yc(e,t,n,r,l,o){if(yl=o,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ui.current=e===null||e.memoizedState===null?U0:K0,e=n(r,l),Xo){o=0;do{if(Xo=!1,pa=0,25<=o)throw Error(P(301));o+=1,Ze=He=null,t.updateQueue=null,ui.current=$0,e=n(r,l)}while(Xo)}if(ui.current=Li,t=He!==null&&He.next!==null,yl=0,Ze=He=Pe=null,Ii=!1,t)throw Error(P(300));return e}function Sc(){var e=pa!==0;return pa=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Pe.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function sn(){if(He===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Ze===null?Pe.memoizedState:Ze.next;if(t!==null)Ze=t,He=e;else{if(e===null)throw Error(P(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ze===null?Pe.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function ma(e,t){return typeof t=="function"?t(e):t}function _u(e){var t=sn(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=He,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var a=l.next;l.next=o.next,o.next=a}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var u=a=null,i=null,m=o;do{var f=m.lane;if((yl&f)===f)i!==null&&(i=i.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var y={lane:f,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};i===null?(u=i=y,a=r):i=i.next=y,Pe.lanes|=f,Sl|=f}m=m.next}while(m!==null&&m!==o);i===null?a=r:i.next=u,Pn(r,t.memoizedState)||(Nt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=i,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Pe.lanes|=o,Sl|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fu(e){var t=sn(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do o=e(o,a.action),a=a.next;while(a!==l);Pn(o,t.memoizedState)||(Nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Tp(){}function Pp(e,t){var n=Pe,r=sn(),l=t(),o=!Pn(r.memoizedState,l);if(o&&(r.memoizedState=l,Nt=!0),r=r.queue,wc(Np.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,ha(9,Fp.bind(null,n,r,l,t),void 0,null),Je===null)throw Error(P(349));yl&30||_p(n,t,l)}return l}function _p(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fp(e,t,n,r){t.value=n,t.getSnapshot=r,Ip(t)&&Lp(e)}function Np(e,t,n){return n(function(){Ip(t)&&Lp(e)})}function Ip(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pn(e,n)}catch{return!0}}function Lp(e){var t=dr(e,1);t!==null&&Tn(t,e,1,-1)}function Ff(e){var t=Un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},t.queue=e,e=e.dispatch=B0.bind(null,Pe,e),[t.memoizedState,e]}function ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ap(){return sn().memoizedState}function si(e,t,n,r){var l=Un();Pe.flags|=e,l.memoizedState=ha(1|t,n,void 0,r===void 0?null:r)}function Gi(e,t,n,r){var l=sn();r=r===void 0?null:r;var o=void 0;if(He!==null){var a=He.memoizedState;if(o=a.destroy,r!==null&&vc(r,a.deps)){l.memoizedState=ha(t,n,o,r);return}}Pe.flags|=e,l.memoizedState=ha(1|t,n,o,r)}function Nf(e,t){return si(8390656,8,e,t)}function wc(e,t){return Gi(2048,8,e,t)}function jp(e,t){return Gi(4,2,e,t)}function Dp(e,t){return Gi(4,4,e,t)}function zp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Op(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4,4,zp.bind(null,t,e),n)}function xc(){}function Bp(e,t){var n=sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Up(e,t){var n=sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kp(e,t,n){return yl&21?(Pn(n,t)||(n=Gd(),Pe.lanes|=n,Sl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=n)}function z0(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=Pu.transition;Pu.transition={};try{e(!1),t()}finally{ie=n,Pu.transition=r}}function $p(){return sn().memoizedState}function O0(e,t,n){var r=Gr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bp(e))Vp(t,n);else if(n=Ep(e,t,n,r),n!==null){var l=xt();Tn(n,e,r,l),Hp(n,t,r)}}function B0(e,t,n){var r=Gr(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bp(e))Vp(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,u=o(a,n);if(l.hasEagerState=!0,l.eagerState=u,Pn(u,a)){var i=t.interleaved;i===null?(l.next=l,dc(t)):(l.next=i.next,i.next=l),t.interleaved=l;return}}catch{}finally{}n=Ep(e,t,l,r),n!==null&&(l=xt(),Tn(n,e,r,l),Hp(n,t,r))}}function bp(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function Vp(e,t){Xo=Ii=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Js(e,n)}}var Li={readContext:un,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},U0={readContext:un,useCallback:function(e,t){return Un().memoizedState=[e,t===void 0?null:t],e},useContext:un,useEffect:Nf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,si(4194308,4,zp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return si(4194308,4,e,t)},useInsertionEffect:function(e,t){return si(4,2,e,t)},useMemo:function(e,t){var n=Un();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Un();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=O0.bind(null,Pe,e),[r.memoizedState,e]},useRef:function(e){var t=Un();return e={current:e},t.memoizedState=e},useState:Ff,useDebugValue:xc,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=Ff(!1),t=e[0];return e=z0.bind(null,e[1]),Un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pe,l=Un();if(Ee){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Je===null)throw Error(P(349));yl&30||_p(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Nf(Np.bind(null,r,o,e),[e]),r.flags|=2048,ha(9,Fp.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Un(),t=Je.identifierPrefix;if(Ee){var n=ur,r=ir;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=D0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},K0={readContext:un,useCallback:Bp,useContext:un,useEffect:wc,useImperativeHandle:Op,useInsertionEffect:jp,useLayoutEffect:Dp,useMemo:Up,useReducer:_u,useRef:Ap,useState:function(){return _u(ma)},useDebugValue:xc,useDeferredValue:function(e){var t=sn();return Kp(t,He.memoizedState,e)},useTransition:function(){var e=_u(ma)[0],t=sn().memoizedState;return[e,t]},useMutableSource:Tp,useSyncExternalStore:Pp,useId:$p,unstable_isNewReconciler:!1},$0={readContext:un,useCallback:Bp,useContext:un,useEffect:wc,useImperativeHandle:Op,useInsertionEffect:jp,useLayoutEffect:Dp,useMemo:Up,useReducer:Fu,useRef:Ap,useState:function(){return Fu(ma)},useDebugValue:xc,useDeferredValue:function(e){var t=sn();return He===null?t.memoizedState=e:Kp(t,He.memoizedState,e)},useTransition:function(){var e=Fu(ma)[0],t=sn().memoizedState;return[e,t]},useMutableSource:Tp,useSyncExternalStore:Pp,useId:$p,unstable_isNewReconciler:!1};function xn(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Cs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wi={isMounted:function(e){return(e=e._reactInternals)?kl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xt(),l=Gr(e),o=sr(r,l);o.payload=t,n!=null&&(o.callback=n),t=Vr(e,o,l),t!==null&&(Tn(t,e,l,r),ii(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xt(),l=Gr(e),o=sr(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Vr(e,o,l),t!==null&&(Tn(t,e,l,r),ii(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xt(),r=Gr(e),l=sr(n,r);l.tag=2,t!=null&&(l.callback=t),t=Vr(e,l,r),t!==null&&(Tn(t,e,r,n),ii(t,e,r))}};function If(e,t,n,r,l,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!ia(n,r)||!ia(l,o):!0}function Gp(e,t,n){var r=!1,l=Yr,o=t.contextType;return typeof o=="object"&&o!==null?o=un(o):(l=Lt(t)?gl:gt.current,r=t.contextTypes,o=(r=r!=null)?so(e,l):Yr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Lf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wi.enqueueReplaceState(t,t.state,null)}function Es(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},pc(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=un(o):(o=Lt(t)?gl:gt.current,l.context=so(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Cs(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Wi.enqueueReplaceState(l,l.state,null),Fi(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function mo(e,t){try{var n="",r=t;do n+=gh(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Nu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var b0=typeof WeakMap=="function"?WeakMap:Map;function Wp(e,t,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ji||(ji=!0,js=r),Rs(e,t)},n}function Qp(e,t,n){n=sr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Rs(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Rs(e,t),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Af(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new b0;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=rg.bind(null,e,t,n),t.then(e,e))}function jf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Df(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sr(-1,1),t.tag=2,Vr(n,t,1))),n.lanes|=1),e)}var V0=mr.ReactCurrentOwner,Nt=!1;function wt(e,t,n,r){t.child=e===null?Cp(t,null,n,r):fo(t,e.child,n,r)}function zf(e,t,n,r,l){n=n.render;var o=t.ref;return ao(t,l),r=yc(e,t,n,r,o,l),n=Sc(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,pr(e,t,l)):(Ee&&n&&ac(t),t.flags|=1,wt(e,t,r,l),t.child)}function Of(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!_c(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Yp(e,t,o,r,l)):(e=pi(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ia,n(a,r)&&e.ref===t.ref)return pr(e,t,l)}return t.flags|=1,e=Wr(o,r),e.ref=t.ref,e.return=t,t.child=e}function Yp(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(ia(o,r)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,pr(e,t,l)}return Ms(e,t,n,r,l)}function Xp(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(eo,bt),bt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(eo,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pe(eo,bt),bt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,pe(eo,bt),bt|=r;return wt(e,t,l,n),t.child}function Zp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,r,l){var o=Lt(n)?gl:gt.current;return o=so(t,o),ao(t,l),n=yc(e,t,n,r,o,l),r=Sc(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,pr(e,t,l)):(Ee&&r&&ac(t),t.flags|=1,wt(e,t,n,l),t.child)}function Bf(e,t,n,r,l){if(Lt(n)){var o=!0;Ri(t)}else o=!1;if(ao(t,l),t.stateNode===null)ci(e,t),Gp(t,n,r),Es(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var i=a.context,m=n.contextType;typeof m=="object"&&m!==null?m=un(m):(m=Lt(n)?gl:gt.current,m=so(t,m));var f=n.getDerivedStateFromProps,y=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||i!==m)&&Lf(t,a,r,m),Ar=!1;var g=t.memoizedState;a.state=g,Fi(t,r,a,l),i=t.memoizedState,u!==r||g!==i||It.current||Ar?(typeof f=="function"&&(Cs(t,n,f,r),i=t.memoizedState),(u=Ar||If(t,n,u,r,g,i,m))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=i),a.props=r,a.state=i,a.context=m,r=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Rp(e,t),u=t.memoizedProps,m=t.type===t.elementType?u:xn(t.type,u),a.props=m,y=t.pendingProps,g=a.context,i=n.contextType,typeof i=="object"&&i!==null?i=un(i):(i=Lt(n)?gl:gt.current,i=so(t,i));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==y||g!==i)&&Lf(t,a,r,i),Ar=!1,g=t.memoizedState,a.state=g,Fi(t,r,a,l);var C=t.memoizedState;u!==y||g!==C||It.current||Ar?(typeof x=="function"&&(Cs(t,n,x,r),C=t.memoizedState),(m=Ar||If(t,n,m,r,g,C,i)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,i),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,i)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),a.props=r,a.state=C,a.context=i,r=m):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,l)}function Ts(e,t,n,r,l,o){Zp(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&Ef(t,n,!1),pr(e,t,o);r=t.stateNode,V0.current=t;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=fo(t,e.child,null,o),t.child=fo(t,null,u,o)):wt(e,t,u,o),t.memoizedState=r.state,l&&Ef(t,n,!0),t.child}function Jp(e){var t=e.stateNode;t.pendingContext?Cf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cf(e,t.context,!1),mc(e,t.containerInfo)}function Uf(e,t,n,r,l){return co(),uc(l),t.flags|=256,wt(e,t,n,r),t.child}var Ps={dehydrated:null,treeContext:null,retryLane:0};function _s(e){return{baseLanes:e,cachePool:null,transitions:null}}function qp(e,t,n){var r=t.pendingProps,l=Te.current,o=!1,a=(t.flags&128)!==0,u;if((u=a)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),pe(Te,l&1),e===null)return xs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Xi(a,r,0,null),e=hl(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=_s(n),t.memoizedState=Ps,e):kc(t,a));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return H0(e,t,a,r,u,l,n);if(o){o=r.fallback,a=t.mode,l=e.child,u=l.sibling;var i={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=i,t.deletions=null):(r=Wr(l,i),r.subtreeFlags=l.subtreeFlags&14680064),u!==null?o=Wr(u,o):(o=hl(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?_s(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Ps,r}return o=e.child,e=o.sibling,r=Wr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function kc(e,t){return t=Xi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wa(e,t,n,r){return r!==null&&uc(r),fo(t,e.child,null,n),e=kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function H0(e,t,n,r,l,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Nu(Error(P(422))),Wa(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Xi({mode:"visible",children:r.children},l,0,null),o=hl(o,l,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&fo(t,e.child,null,a),t.child.memoizedState=_s(a),t.memoizedState=Ps,o);if(!(t.mode&1))return Wa(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(P(419)),r=Nu(o,r,void 0),Wa(e,t,a,r)}if(u=(a&e.childLanes)!==0,Nt||u){if(r=Je,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,dr(e,l),Tn(r,e,l,-1))}return Pc(),r=Nu(Error(P(421))),Wa(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=lg.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,Vt=br(l.nextSibling),Ht=t,Ee=!0,En=null,e!==null&&(rn[ln++]=ir,rn[ln++]=ur,rn[ln++]=vl,ir=e.id,ur=e.overflow,vl=t),t=kc(t,r.children),t.flags|=4096,t)}function Kf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ks(e.return,t,n)}function Iu(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function em(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(wt(e,t,r.children,n),r=Te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kf(e,n,t);else if(e.tag===19)Kf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(Te,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ni(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Iu(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ni(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Iu(t,!0,n,null,o);break;case"together":Iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Wr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function G0(e,t,n){switch(t.tag){case 3:Jp(t),co();break;case 5:Mp(t);break;case 1:Lt(t.type)&&Ri(t);break;case 4:mc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;pe(Pi,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?qp(e,t,n):(pe(Te,Te.current&1),e=pr(e,t,n),e!==null?e.sibling:null);pe(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return em(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),pe(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,Xp(e,t,n)}return pr(e,t,n)}var tm,Fs,nm,rm;tm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fs=function(){};nm=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,pl(bn.current);var o=null;switch(n){case"input":l=Ju(e,l),r=Ju(e,r),o=[];break;case"select":l=_e({},l,{value:void 0}),r=_e({},r,{value:void 0}),o=[];break;case"textarea":l=ts(e,l),r=ts(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ci)}rs(n,r);var a;n=null;for(m in l)if(!r.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var u=l[m];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ea.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in r){var i=r[m];if(u=l!=null?l[m]:void 0,r.hasOwnProperty(m)&&i!==u&&(i!=null||u!=null))if(m==="style")if(u){for(a in u)!u.hasOwnProperty(a)||i&&i.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in i)i.hasOwnProperty(a)&&u[a]!==i[a]&&(n||(n={}),n[a]=i[a])}else n||(o||(o=[]),o.push(m,n)),n=i;else m==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,u=u?u.__html:void 0,i!=null&&u!==i&&(o=o||[]).push(m,i)):m==="children"?typeof i!="string"&&typeof i!="number"||(o=o||[]).push(m,""+i):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ea.hasOwnProperty(m)?(i!=null&&m==="onScroll"&&Se("scroll",e),o||u===i||(o=[])):(o=o||[]).push(m,i))}n&&(o=o||[]).push("style",n);var m=o;(t.updateQueue=m)&&(t.flags|=4)}};rm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Do(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function W0(e,t,n){var r=t.pendingProps;switch(ic(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return Lt(t.type)&&Ei(),mt(t),null;case 3:return r=t.stateNode,po(),we(It),we(gt),gc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ha(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,En!==null&&(Os(En),En=null))),Fs(e,t),mt(t),null;case 5:hc(t);var l=pl(da.current);if(n=t.type,e!==null&&t.stateNode!=null)nm(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return mt(t),null}if(e=pl(bn.current),Ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Kn]=t,r[ca]=o,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(l=0;l<Vo.length;l++)Se(Vo[l],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Yc(r,o),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Se("invalid",r);break;case"textarea":Zc(r,o),Se("invalid",r)}rs(n,o),l=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Va(r.textContent,u,e),l=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Va(r.textContent,u,e),l=["children",""+u]):ea.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Se("scroll",r)}switch(n){case"input":Da(r),Xc(r,o,!0);break;case"textarea":Da(r),Jc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ci)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Kn]=t,e[ca]=r,tm(e,t,!1,!1),t.stateNode=e;e:{switch(a=ls(n,r),n){case"dialog":Se("cancel",e),Se("close",e),l=r;break;case"iframe":case"object":case"embed":Se("load",e),l=r;break;case"video":case"audio":for(l=0;l<Vo.length;l++)Se(Vo[l],e);l=r;break;case"source":Se("error",e),l=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),l=r;break;case"details":Se("toggle",e),l=r;break;case"input":Yc(e,r),l=Ju(e,r),Se("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=_e({},r,{value:void 0}),Se("invalid",e);break;case"textarea":Zc(e,r),l=ts(e,r),Se("invalid",e);break;default:l=r}rs(n,l),u=l;for(o in u)if(u.hasOwnProperty(o)){var i=u[o];o==="style"?Ad(e,i):o==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&Id(e,i)):o==="children"?typeof i=="string"?(n!=="textarea"||i!=="")&&ta(e,i):typeof i=="number"&&ta(e,""+i):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ea.hasOwnProperty(o)?i!=null&&o==="onScroll"&&Se("scroll",e):i!=null&&Gs(e,o,i,a))}switch(n){case"input":Da(e),Xc(e,r,!1);break;case"textarea":Da(e),Jc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?no(e,!!r.multiple,o,!1):r.defaultValue!=null&&no(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ci)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)rm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=pl(da.current),pl(bn.current),Ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kn]=t,(o=r.nodeValue!==n)&&(e=Ht,e!==null))switch(e.tag){case 3:Va(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Va(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=t,t.stateNode=r}return mt(t),null;case 13:if(we(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&Vt!==null&&t.mode&1&&!(t.flags&128))xp(),co(),t.flags|=98560,o=!1;else if(o=Ha(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(P(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[Kn]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),o=!1}else En!==null&&(Os(En),En=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ge===0&&(Ge=3):Pc())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return po(),Fs(e,t),e===null&&ua(t.stateNode.containerInfo),mt(t),null;case 10:return fc(t.type._context),mt(t),null;case 17:return Lt(t.type)&&Ei(),mt(t),null;case 19:if(we(Te),o=t.memoizedState,o===null)return mt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Do(o,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ni(e),a!==null){for(t.flags|=128,Do(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(Te,Te.current&1|2),t.child}e=e.sibling}o.tail!==null&&ze()>ho&&(t.flags|=128,r=!0,Do(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ni(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Do(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ee)return mt(t),null}else 2*ze()-o.renderingStartTime>ho&&n!==1073741824&&(t.flags|=128,r=!0,Do(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ze(),t.sibling=null,n=Te.current,pe(Te,r?n&1|2:n&1),t):(mt(t),null);case 22:case 23:return Tc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bt&1073741824&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Q0(e,t){switch(ic(t),t.tag){case 1:return Lt(t.type)&&Ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return po(),we(It),we(gt),gc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hc(t),null;case 13:if(we(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Te),null;case 4:return po(),null;case 10:return fc(t.type._context),null;case 22:case 23:return Tc(),null;case 24:return null;default:return null}}var Qa=!1,ht=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,L=null;function ql(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function Ns(e,t,n){try{n()}catch(r){je(e,t,r)}}var $f=!1;function X0(e,t){if(ms=wi,e=up(),oc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,u=-1,i=-1,m=0,f=0,y=e,g=null;t:for(;;){for(var x;y!==n||l!==0&&y.nodeType!==3||(u=a+l),y!==o||r!==0&&y.nodeType!==3||(i=a+r),y.nodeType===3&&(a+=y.nodeValue.length),(x=y.firstChild)!==null;)g=y,y=x;for(;;){if(y===e)break t;if(g===n&&++m===l&&(u=a),g===o&&++f===r&&(i=a),(x=y.nextSibling)!==null)break;y=g,g=y.parentNode}y=x}n=u===-1||i===-1?null:{start:u,end:i}}else n=null}n=n||{start:0,end:0}}else n=null;for(hs={focusedElem:e,selectionRange:n},wi=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var E=C.memoizedProps,_=C.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?E:xn(t.type,E),_);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var s=t.stateNode.containerInfo;s.nodeType===1?s.textContent="":s.nodeType===9&&s.documentElement&&s.removeChild(s.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(k){je(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return C=$f,$f=!1,C}function Zo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Ns(t,n,o)}l=l.next}while(l!==r)}}function Qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Is(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lm(e){var t=e.alternate;t!==null&&(e.alternate=null,lm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kn],delete t[ca],delete t[ys],delete t[I0],delete t[L0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function om(e){return e.tag===5||e.tag===3||e.tag===4}function bf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ls(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ci));else if(r!==4&&(e=e.child,e!==null))for(Ls(e,t,n),e=e.sibling;e!==null;)Ls(e,t,n),e=e.sibling}function As(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(As(e,t,n),e=e.sibling;e!==null;)As(e,t,n),e=e.sibling}var ot=null,kn=!1;function Nr(e,t,n){for(n=n.child;n!==null;)am(e,t,n),n=n.sibling}function am(e,t,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Ui,n)}catch{}switch(n.tag){case 5:ht||ql(n,t);case 6:var r=ot,l=kn;ot=null,Nr(e,t,n),ot=r,kn=l,ot!==null&&(kn?(e=ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(kn?(e=ot,n=n.stateNode,e.nodeType===8?Ru(e.parentNode,n):e.nodeType===1&&Ru(e,n),oa(e)):Ru(ot,n.stateNode));break;case 4:r=ot,l=kn,ot=n.stateNode.containerInfo,kn=!0,Nr(e,t,n),ot=r,kn=l;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Ns(n,t,a),l=l.next}while(l!==r)}Nr(e,t,n);break;case 1:if(!ht&&(ql(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){je(n,t,u)}Nr(e,t,n);break;case 21:Nr(e,t,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,Nr(e,t,n),ht=r):Nr(e,t,n);break;default:Nr(e,t,n)}}function Vf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Y0),t.forEach(function(r){var l=og.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function wn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,a=t,u=a;e:for(;u!==null;){switch(u.tag){case 5:ot=u.stateNode,kn=!1;break e;case 3:ot=u.stateNode.containerInfo,kn=!0;break e;case 4:ot=u.stateNode.containerInfo,kn=!0;break e}u=u.return}if(ot===null)throw Error(P(160));am(o,a,l),ot=null,kn=!1;var i=l.alternate;i!==null&&(i.return=null),l.return=null}catch(m){je(l,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)im(t,e),t=t.sibling}function im(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wn(t,e),Bn(e),r&4){try{Zo(3,e,e.return),Qi(3,e)}catch(E){je(e,e.return,E)}try{Zo(5,e,e.return)}catch(E){je(e,e.return,E)}}break;case 1:wn(t,e),Bn(e),r&512&&n!==null&&ql(n,n.return);break;case 5:if(wn(t,e),Bn(e),r&512&&n!==null&&ql(n,n.return),e.flags&32){var l=e.stateNode;try{ta(l,"")}catch(E){je(e,e.return,E)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,u=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&_d(l,o),ls(u,a);var m=ls(u,o);for(a=0;a<i.length;a+=2){var f=i[a],y=i[a+1];f==="style"?Ad(l,y):f==="dangerouslySetInnerHTML"?Id(l,y):f==="children"?ta(l,y):Gs(l,f,y,m)}switch(u){case"input":qu(l,o);break;case"textarea":Fd(l,o);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?no(l,!!o.multiple,x,!1):g!==!!o.multiple&&(o.defaultValue!=null?no(l,!!o.multiple,o.defaultValue,!0):no(l,!!o.multiple,o.multiple?[]:"",!1))}l[ca]=o}catch(E){je(e,e.return,E)}}break;case 6:if(wn(t,e),Bn(e),r&4){if(e.stateNode===null)throw Error(P(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(E){je(e,e.return,E)}}break;case 3:if(wn(t,e),Bn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oa(t.containerInfo)}catch(E){je(e,e.return,E)}break;case 4:wn(t,e),Bn(e);break;case 13:wn(t,e),Bn(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Rc=ze())),r&4&&Vf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ht=(m=ht)||f,wn(t,e),ht=m):wn(t,e),Bn(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!f&&e.mode&1)for(L=e,f=e.child;f!==null;){for(y=L=f;L!==null;){switch(g=L,x=g.child,g.tag){case 0:case 11:case 14:case 15:Zo(4,g,g.return);break;case 1:ql(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(E){je(r,n,E)}}break;case 5:ql(g,g.return);break;case 22:if(g.memoizedState!==null){Gf(y);continue}}x!==null?(x.return=g,L=x):Gf(y)}f=f.sibling}e:for(f=null,y=e;;){if(y.tag===5){if(f===null){f=y;try{l=y.stateNode,m?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=y.stateNode,i=y.memoizedProps.style,a=i!=null&&i.hasOwnProperty("display")?i.display:null,u.style.display=Ld("display",a))}catch(E){je(e,e.return,E)}}}else if(y.tag===6){if(f===null)try{y.stateNode.nodeValue=m?"":y.memoizedProps}catch(E){je(e,e.return,E)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;f===y&&(f=null),y=y.return}f===y&&(f=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:wn(t,e),Bn(e),r&4&&Vf(e);break;case 21:break;default:wn(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(om(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(ta(l,""),r.flags&=-33);var o=bf(e);As(e,o,l);break;case 3:case 4:var a=r.stateNode.containerInfo,u=bf(e);Ls(e,u,a);break;default:throw Error(P(161))}}catch(i){je(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Z0(e,t,n){L=e,um(e)}function um(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var l=L,o=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||Qa;if(!a){var u=l.alternate,i=u!==null&&u.memoizedState!==null||ht;u=Qa;var m=ht;if(Qa=a,(ht=i)&&!m)for(L=l;L!==null;)a=L,i=a.child,a.tag===22&&a.memoizedState!==null?Wf(l):i!==null?(i.return=a,L=i):Wf(l);for(;o!==null;)L=o,um(o),o=o.sibling;L=l,Qa=u,ht=m}Hf(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,L=o):Hf(e)}}function Hf(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||Qi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ht)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:xn(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&_f(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_f(t,a,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&n.focus();break;case"img":i.src&&(n.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var f=m.memoizedState;if(f!==null){var y=f.dehydrated;y!==null&&oa(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ht||t.flags&512&&Is(t)}catch(g){je(t,t.return,g)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Gf(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Wf(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qi(4,t)}catch(i){je(t,n,i)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(i){je(t,l,i)}}var o=t.return;try{Is(t)}catch(i){je(t,o,i)}break;case 5:var a=t.return;try{Is(t)}catch(i){je(t,a,i)}}}catch(i){je(t,t.return,i)}if(t===e){L=null;break}var u=t.sibling;if(u!==null){u.return=t.return,L=u;break}L=t.return}}var J0=Math.ceil,Ai=mr.ReactCurrentDispatcher,Cc=mr.ReactCurrentOwner,an=mr.ReactCurrentBatchConfig,q=0,Je=null,Ke=null,at=0,bt=0,eo=Zr(0),Ge=0,ga=null,Sl=0,Yi=0,Ec=0,Jo=null,Ft=null,Rc=0,ho=1/0,or=null,ji=!1,js=null,Hr=null,Ya=!1,Br=null,Di=0,qo=0,Ds=null,fi=-1,di=0;function xt(){return q&6?ze():fi!==-1?fi:fi=ze()}function Gr(e){return e.mode&1?q&2&&at!==0?at&-at:j0.transition!==null?(di===0&&(di=Gd()),di):(e=ie,e!==0||(e=window.event,e=e===void 0?16:qd(e.type)),e):1}function Tn(e,t,n,r){if(50<qo)throw qo=0,Ds=null,Error(P(185));ya(e,n,r),(!(q&2)||e!==Je)&&(e===Je&&(!(q&2)&&(Yi|=n),Ge===4&&zr(e,at)),At(e,r),n===1&&q===0&&!(t.mode&1)&&(ho=ze()+500,Hi&&Jr()))}function At(e,t){var n=e.callbackNode;jh(e,t);var r=Si(e,e===Je?at:0);if(r===0)n!==null&&tf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&tf(n),t===1)e.tag===0?A0(Qf.bind(null,e)):yp(Qf.bind(null,e)),F0(function(){!(q&6)&&Jr()}),n=null;else{switch(Wd(r)){case 1:n=Zs;break;case 4:n=Vd;break;case 16:n=yi;break;case 536870912:n=Hd;break;default:n=yi}n=gm(n,sm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sm(e,t){if(fi=-1,di=0,q&6)throw Error(P(327));var n=e.callbackNode;if(io()&&e.callbackNode!==n)return null;var r=Si(e,e===Je?at:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zi(e,r);else{t=r;var l=q;q|=2;var o=fm();(Je!==e||at!==t)&&(or=null,ho=ze()+500,ml(e,t));do try{tg();break}catch(u){cm(e,u)}while(!0);cc(),Ai.current=o,q=l,Ke!==null?t=0:(Je=null,at=0,t=Ge)}if(t!==0){if(t===2&&(l=ss(e),l!==0&&(r=l,t=zs(e,l))),t===1)throw n=ga,ml(e,0),zr(e,r),At(e,ze()),n;if(t===6)zr(e,r);else{if(l=e.current.alternate,!(r&30)&&!q0(l)&&(t=zi(e,r),t===2&&(o=ss(e),o!==0&&(r=o,t=zs(e,o))),t===1))throw n=ga,ml(e,0),zr(e,r),At(e,ze()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:cl(e,Ft,or);break;case 3:if(zr(e,r),(r&130023424)===r&&(t=Rc+500-ze(),10<t)){if(Si(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){xt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=vs(cl.bind(null,e,Ft,or),t);break}cl(e,Ft,or);break;case 4:if(zr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Mn(r);o=1<<a,a=t[a],a>l&&(l=a),r&=~o}if(r=l,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J0(r/1960))-r,10<r){e.timeoutHandle=vs(cl.bind(null,e,Ft,or),r);break}cl(e,Ft,or);break;case 5:cl(e,Ft,or);break;default:throw Error(P(329))}}}return At(e,ze()),e.callbackNode===n?sm.bind(null,e):null}function zs(e,t){var n=Jo;return e.current.memoizedState.isDehydrated&&(ml(e,t).flags|=256),e=zi(e,t),e!==2&&(t=Ft,Ft=n,t!==null&&Os(t)),e}function Os(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function q0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Pn(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zr(e,t){for(t&=~Ec,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mn(t),r=1<<n;e[n]=-1,t&=~r}}function Qf(e){if(q&6)throw Error(P(327));io();var t=Si(e,0);if(!(t&1))return At(e,ze()),null;var n=zi(e,t);if(e.tag!==0&&n===2){var r=ss(e);r!==0&&(t=r,n=zs(e,r))}if(n===1)throw n=ga,ml(e,0),zr(e,t),At(e,ze()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cl(e,Ft,or),At(e,ze()),null}function Mc(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(ho=ze()+500,Hi&&Jr())}}function wl(e){Br!==null&&Br.tag===0&&!(q&6)&&io();var t=q;q|=1;var n=an.transition,r=ie;try{if(an.transition=null,ie=1,e)return e()}finally{ie=r,an.transition=n,q=t,!(q&6)&&Jr()}}function Tc(){bt=eo.current,we(eo)}function ml(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_0(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(ic(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ei();break;case 3:po(),we(It),we(gt),gc();break;case 5:hc(r);break;case 4:po();break;case 13:we(Te);break;case 19:we(Te);break;case 10:fc(r.type._context);break;case 22:case 23:Tc()}n=n.return}if(Je=e,Ke=e=Wr(e.current,null),at=bt=t,Ge=0,ga=null,Ec=Yi=Sl=0,Ft=Jo=null,dl!==null){for(t=0;t<dl.length;t++)if(n=dl[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=l,r.next=a}n.pending=r}dl=null}return e}function cm(e,t){do{var n=Ke;try{if(cc(),ui.current=Li,Ii){for(var r=Pe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ii=!1}if(yl=0,Ze=He=Pe=null,Xo=!1,pa=0,Cc.current=null,n===null||n.return===null){Ge=1,ga=t,Ke=null;break}e:{var o=e,a=n.return,u=n,i=t;if(t=at,u.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var m=i,f=u,y=f.tag;if(!(f.mode&1)&&(y===0||y===11||y===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=jf(a);if(x!==null){x.flags&=-257,Df(x,a,u,o,t),x.mode&1&&Af(o,m,t),t=x,i=m;var C=t.updateQueue;if(C===null){var E=new Set;E.add(i),t.updateQueue=E}else C.add(i);break e}else{if(!(t&1)){Af(o,m,t),Pc();break e}i=Error(P(426))}}else if(Ee&&u.mode&1){var _=jf(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Df(_,a,u,o,t),uc(mo(i,u));break e}}o=i=mo(i,u),Ge!==4&&(Ge=2),Jo===null?Jo=[o]:Jo.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=Wp(o,i,t);Pf(o,p);break e;case 1:u=i;var d=o.type,s=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Hr===null||!Hr.has(s)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=Qp(o,u,t);Pf(o,k);break e}}o=o.return}while(o!==null)}pm(n)}catch(M){t=M,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function fm(){var e=Ai.current;return Ai.current=Li,e===null?Li:e}function Pc(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Je===null||!(Sl&268435455)&&!(Yi&268435455)||zr(Je,at)}function zi(e,t){var n=q;q|=2;var r=fm();(Je!==e||at!==t)&&(or=null,ml(e,t));do try{eg();break}catch(l){cm(e,l)}while(!0);if(cc(),q=n,Ai.current=r,Ke!==null)throw Error(P(261));return Je=null,at=0,Ge}function eg(){for(;Ke!==null;)dm(Ke)}function tg(){for(;Ke!==null&&!Mh();)dm(Ke)}function dm(e){var t=hm(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?pm(e):Ke=t,Cc.current=null}function pm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Q0(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Ke=null;return}}else if(n=W0(n,t,bt),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Ge===0&&(Ge=5)}function cl(e,t,n){var r=ie,l=an.transition;try{an.transition=null,ie=1,ng(e,t,n,r)}finally{an.transition=l,ie=r}return null}function ng(e,t,n,r){do io();while(Br!==null);if(q&6)throw Error(P(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Dh(e,o),e===Je&&(Ke=Je=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ya||(Ya=!0,gm(yi,function(){return io(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=an.transition,an.transition=null;var a=ie;ie=1;var u=q;q|=4,Cc.current=null,X0(e,n),im(n,e),k0(hs),wi=!!ms,hs=ms=null,e.current=n,Z0(n),Th(),q=u,ie=a,an.transition=o}else e.current=n;if(Ya&&(Ya=!1,Br=e,Di=l),o=e.pendingLanes,o===0&&(Hr=null),Fh(n.stateNode),At(e,ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ji)throw ji=!1,e=js,js=null,e;return Di&1&&e.tag!==0&&io(),o=e.pendingLanes,o&1?e===Ds?qo++:(qo=0,Ds=e):qo=0,Jr(),null}function io(){if(Br!==null){var e=Wd(Di),t=an.transition,n=ie;try{if(an.transition=null,ie=16>e?16:e,Br===null)var r=!1;else{if(e=Br,Br=null,Di=0,q&6)throw Error(P(331));var l=q;for(q|=4,L=e.current;L!==null;){var o=L,a=o.child;if(L.flags&16){var u=o.deletions;if(u!==null){for(var i=0;i<u.length;i++){var m=u[i];for(L=m;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:Zo(8,f,o)}var y=f.child;if(y!==null)y.return=f,L=y;else for(;L!==null;){f=L;var g=f.sibling,x=f.return;if(lm(f),f===m){L=null;break}if(g!==null){g.return=x,L=g;break}L=x}}}var C=o.alternate;if(C!==null){var E=C.child;if(E!==null){C.child=null;do{var _=E.sibling;E.sibling=null,E=_}while(E!==null)}}L=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,L=a;else e:for(;L!==null;){if(o=L,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zo(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,L=p;break e}L=o.return}}var d=e.current;for(L=d;L!==null;){a=L;var s=a.child;if(a.subtreeFlags&2064&&s!==null)s.return=a,L=s;else e:for(a=d;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Qi(9,u)}}catch(M){je(u,u.return,M)}if(u===a){L=null;break e}var k=u.sibling;if(k!==null){k.return=u.return,L=k;break e}L=u.return}}if(q=l,Jr(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Ui,e)}catch{}r=!0}return r}finally{ie=n,an.transition=t}}return!1}function Yf(e,t,n){t=mo(n,t),t=Wp(e,t,1),e=Vr(e,t,1),t=xt(),e!==null&&(ya(e,1,t),At(e,t))}function je(e,t,n){if(e.tag===3)Yf(e,e,n);else for(;t!==null;){if(t.tag===3){Yf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hr===null||!Hr.has(r))){e=mo(n,e),e=Qp(t,e,1),t=Vr(t,e,1),e=xt(),t!==null&&(ya(t,1,e),At(t,e));break}}t=t.return}}function rg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(at&n)===n&&(Ge===4||Ge===3&&(at&130023424)===at&&500>ze()-Rc?ml(e,0):Ec|=n),At(e,t)}function mm(e,t){t===0&&(e.mode&1?(t=Ba,Ba<<=1,!(Ba&130023424)&&(Ba=4194304)):t=1);var n=xt();e=dr(e,t),e!==null&&(ya(e,t,n),At(e,n))}function lg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mm(e,n)}function og(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),mm(e,n)}var hm;hm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)Nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nt=!1,G0(e,t,n);Nt=!!(e.flags&131072)}else Nt=!1,Ee&&t.flags&1048576&&Sp(t,Ti,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ci(e,t),e=t.pendingProps;var l=so(t,gt.current);ao(t,n),l=yc(null,t,r,e,l,n);var o=Sc();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,pc(t),l.updater=Wi,t.stateNode=l,l._reactInternals=t,Es(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,Ee&&o&&ac(t),wt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ci(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=ig(r),e=xn(r,e),l){case 0:t=Ms(null,t,r,e,n);break e;case 1:t=Bf(null,t,r,e,n);break e;case 11:t=zf(null,t,r,e,n);break e;case 14:t=Of(null,t,r,xn(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xn(r,l),Ms(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xn(r,l),Bf(e,t,r,l,n);case 3:e:{if(Jp(t),e===null)throw Error(P(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Rp(e,t),Fi(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=mo(Error(P(423)),t),t=Uf(e,t,r,n,l);break e}else if(r!==l){l=mo(Error(P(424)),t),t=Uf(e,t,r,n,l);break e}else for(Vt=br(t.stateNode.containerInfo.firstChild),Ht=t,Ee=!0,En=null,n=Cp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===l){t=pr(e,t,n);break e}wt(e,t,r,n)}t=t.child}return t;case 5:return Mp(t),e===null&&xs(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,a=l.children,gs(r,l)?a=null:o!==null&&gs(r,o)&&(t.flags|=32),Zp(e,t),wt(e,t,a,n),t.child;case 6:return e===null&&xs(t),null;case 13:return qp(e,t,n);case 4:return mc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fo(t,null,r,n):wt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xn(r,l),zf(e,t,r,l,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,a=l.value,pe(Pi,r._currentValue),r._currentValue=a,o!==null)if(Pn(o.value,a)){if(o.children===l.children&&!It.current){t=pr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var i=u.firstContext;i!==null;){if(i.context===r){if(o.tag===1){i=sr(-1,n&-n),i.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var f=m.pending;f===null?i.next=i:(i.next=f.next,f.next=i),m.pending=i}}o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),ks(o.return,n,t),u.lanes|=n;break}i=i.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(P(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),ks(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}wt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,ao(t,n),l=un(l),r=r(l),t.flags|=1,wt(e,t,r,n),t.child;case 14:return r=t.type,l=xn(r,t.pendingProps),l=xn(r.type,l),Of(e,t,r,l,n);case 15:return Yp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:xn(r,l),ci(e,t),t.tag=1,Lt(r)?(e=!0,Ri(t)):e=!1,ao(t,n),Gp(t,r,l),Es(t,r,l,n),Ts(null,t,r,!0,e,n);case 19:return em(e,t,n);case 22:return Xp(e,t,n)}throw Error(P(156,t.tag))};function gm(e,t){return bd(e,t)}function ag(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,r){return new ag(e,t,n,r)}function _c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ig(e){if(typeof e=="function")return _c(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qs)return 11;if(e===Ys)return 14}return 2}function Wr(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pi(e,t,n,r,l,o){var a=2;if(r=e,typeof e=="function")_c(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Vl:return hl(n.children,l,o,t);case Ws:a=8,l|=8;break;case Qu:return e=on(12,n,t,l|2),e.elementType=Qu,e.lanes=o,e;case Yu:return e=on(13,n,t,l),e.elementType=Yu,e.lanes=o,e;case Xu:return e=on(19,n,t,l),e.elementType=Xu,e.lanes=o,e;case Md:return Xi(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ed:a=10;break e;case Rd:a=9;break e;case Qs:a=11;break e;case Ys:a=14;break e;case Lr:a=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=on(a,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function hl(e,t,n,r){return e=on(7,e,r,t),e.lanes=n,e}function Xi(e,t,n,r){return e=on(22,e,r,t),e.elementType=Md,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function Au(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ug(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,l,o,a,u,i){return e=new ug(e,t,n,u,i),t===1?(t=1,o===!0&&(t|=8)):t=0,o=on(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(o),e}function sg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vm(e){if(!e)return Yr;e=e._reactInternals;e:{if(kl(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Lt(n))return vp(e,n,t)}return t}function ym(e,t,n,r,l,o,a,u,i){return e=Fc(n,r,!0,e,l,o,a,u,i),e.context=vm(null),n=e.current,r=xt(),l=Gr(n),o=sr(r,l),o.callback=t??null,Vr(n,o,l),e.current.lanes=l,ya(e,l,r),At(e,r),e}function Zi(e,t,n,r){var l=t.current,o=xt(),a=Gr(l);return n=vm(n),t.context===null?t.context=n:t.pendingContext=n,t=sr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vr(l,t,a),e!==null&&(Tn(e,l,a,o),ii(e,l,a)),a}function Oi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nc(e,t){Xf(e,t),(e=e.alternate)&&Xf(e,t)}function cg(){return null}var Sm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ic(e){this._internalRoot=e}Ji.prototype.render=Ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Zi(e,t,null,null)};Ji.prototype.unmount=Ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wl(function(){Zi(null,e,null,null)}),t[fr]=null}};function Ji(e){this._internalRoot=e}Ji.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dr.length&&t!==0&&t<Dr[n].priority;n++);Dr.splice(n,0,e),n===0&&Jd(e)}};function Lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zf(){}function fg(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var m=Oi(a);o.call(m)}}var a=ym(t,r,e,0,null,!1,!1,"",Zf);return e._reactRootContainer=a,e[fr]=a.current,ua(e.nodeType===8?e.parentNode:e),wl(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var u=r;r=function(){var m=Oi(i);u.call(m)}}var i=Fc(e,0,!1,null,null,!1,!1,"",Zf);return e._reactRootContainer=i,e[fr]=i.current,ua(e.nodeType===8?e.parentNode:e),wl(function(){Zi(t,i,n,r)}),i}function eu(e,t,n,r,l){var o=n._reactRootContainer;if(o){var a=o;if(typeof l=="function"){var u=l;l=function(){var i=Oi(a);u.call(i)}}Zi(t,a,e,l)}else a=fg(n,t,e,l,r);return Oi(a)}Qd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bo(t.pendingLanes);n!==0&&(Js(t,n|1),At(t,ze()),!(q&6)&&(ho=ze()+500,Jr()))}break;case 13:wl(function(){var r=dr(e,1);if(r!==null){var l=xt();Tn(r,e,1,l)}}),Nc(e,1)}};qs=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var n=xt();Tn(t,e,134217728,n)}Nc(e,134217728)}};Yd=function(e){if(e.tag===13){var t=Gr(e),n=dr(e,t);if(n!==null){var r=xt();Tn(n,e,t,r)}Nc(e,t)}};Xd=function(){return ie};Zd=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};as=function(e,t,n){switch(t){case"input":if(qu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Vi(r);if(!l)throw Error(P(90));Pd(r),qu(r,l)}}}break;case"textarea":Fd(e,n);break;case"select":t=n.value,t!=null&&no(e,!!n.multiple,t,!1)}};zd=Mc;Od=wl;var dg={usingClientEntryPoint:!1,Events:[wa,Ql,Vi,jd,Dd,Mc]},zo={findFiberByHostInstance:fl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pg={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kd(e),e===null?null:e.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||cg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xa.isDisabled&&Xa.supportsFiber)try{Ui=Xa.inject(pg),$n=Xa}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dg;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lc(t))throw Error(P(200));return sg(e,t,null,n)};Wt.createRoot=function(e,t){if(!Lc(e))throw Error(P(299));var n=!1,r="",l=Sm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Fc(e,1,!1,null,null,n,!1,r,l),e[fr]=t.current,ua(e.nodeType===8?e.parentNode:e),new Ic(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Kd(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return wl(e)};Wt.hydrate=function(e,t,n){if(!qi(t))throw Error(P(200));return eu(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!Lc(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",a=Sm;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ym(t,null,e,1,n??null,l,!1,o,a),e[fr]=t.current,ua(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ji(t)};Wt.render=function(e,t,n){if(!qi(t))throw Error(P(200));return eu(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!qi(e))throw Error(P(40));return e._reactRootContainer?(wl(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0):!1};Wt.unstable_batchedUpdates=Mc;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qi(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return eu(e,t,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function wm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wm)}catch(e){console.error(e)}}wm(),wd.exports=Wt;var mg=wd.exports,Jf=mg;Gu.createRoot=Jf.createRoot,Gu.hydrateRoot=Jf.hydrateRoot;const xm=["rim","surface","phase","volume"],Ac=xm,tu=(e,t)=>({width:e,height:t,texels:e*t}),hg={rim:0,surface:1,phase:2,volume:3},gg={planar:0,interleaved:1},vg={float32:0,uint8:1},yg={static:0,dynamic:1,workerStream:2},Sg={gradientX:0,gradientY:1,magnitude:2,baseR:3,baseG:4,baseB:5,baseA:6,phaseGradX:7,phaseGradY:8,phaseVorticity:9,phaseCoherence:10,volumeReal:11,volumeImag:12},Kt={gradientX:"Edge gradient X",gradientY:"Edge gradient Y",magnitude:"Edge magnitude",baseR:"Surface color R",baseG:"Surface color G",baseB:"Surface color B",baseA:"Surface alpha",phaseGradX:"Kuramoto grad X",phaseGradY:"Kuramoto grad Y",phaseVorticity:"Kuramoto vorticity",phaseCoherence:"Kuramoto coherence",volumeReal:"Kuramoto Zr",volumeImag:"Kuramoto Zi"},to={rim:{kind:"rim",label:"RimField",storage:"planar",format:"float32",channels:[{id:"gradX",semantic:"gradientX",description:Kt.gradientX,components:1},{id:"gradY",semantic:"gradientY",description:Kt.gradientY,components:1},{id:"mag",semantic:"magnitude",description:Kt.magnitude,components:1}],lifetime:{kind:"static",expectedMs:Number.POSITIVE_INFINITY,staleMs:Number.POSITIVE_INFINITY}},surface:{kind:"surface",label:"SurfaceField",storage:"interleaved",format:"uint8",channels:[{id:"R",semantic:"baseR",description:Kt.baseR,components:1},{id:"G",semantic:"baseG",description:Kt.baseG,components:1},{id:"B",semantic:"baseB",description:Kt.baseB,components:1},{id:"A",semantic:"baseA",description:Kt.baseA,components:1}],lifetime:{kind:"static",expectedMs:Number.POSITIVE_INFINITY,staleMs:Number.POSITIVE_INFINITY}},phase:{kind:"phase",label:"PhaseField",storage:"planar",format:"float32",channels:[{id:"gradX",semantic:"phaseGradX",description:Kt.phaseGradX,components:1},{id:"gradY",semantic:"phaseGradY",description:Kt.phaseGradY,components:1},{id:"vort",semantic:"phaseVorticity",description:Kt.phaseVorticity,components:1},{id:"coh",semantic:"phaseCoherence",description:Kt.phaseCoherence,components:1}],lifetime:{kind:"dynamic",expectedMs:16,staleMs:250}},volume:{kind:"volume",label:"VolumeField",storage:"planar",format:"float32",channels:[{id:"zr",semantic:"volumeReal",description:Kt.volumeReal,components:1},{id:"zi",semantic:"volumeImag",description:Kt.volumeImag,components:1}],lifetime:{kind:"workerStream",expectedMs:16,staleMs:250}}},ka=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/[-\s]+/g,"_").toUpperCase(),wg=()=>Object.entries(Sg).map(([e,t])=>`#define FIELD_SEMANTIC_${ka(e)} ${t}`).join(`
`),xg=()=>xm.map(e=>`#define FIELD_KIND_${ka(e)} ${hg[e]}`).join(`
`),kg=()=>Object.entries(gg).map(([e,t])=>`#define FIELD_STORAGE_${ka(e)} ${t}`).join(`
`),Cg=()=>Object.entries(vg).map(([e,t])=>`#define FIELD_FORMAT_${ka(e)} ${t}`).join(`
`),Eg=()=>Object.entries(yg).map(([e,t])=>`#define FIELD_LIFETIME_${ka(e)} ${t}`).join(`
`),Rg=`#define FIELD_CHANNEL_COUNT 4

${xg()}
${kg()}
${Cg()}
${Eg()}
${wg()}

struct FieldLifetimeInfo {
  int kind;
  float expectedMs;
  float staleMs;
};

struct FieldChannelInfo {
  int semantic;
  int components;
  int format;
  int _pad;
};

struct FieldContractInfo {
  ivec2 resolution;
  int storage;
  int channelCount;
  FieldLifetimeInfo lifetime;
  FieldChannelInfo ch0;
  FieldChannelInfo ch1;
  FieldChannelInfo ch2;
  FieldChannelInfo ch3;
};
`,Mg=(e,t)=>{if(!e)throw new Error(t)},Rn=(e,t,n,r,l)=>{Mg(e.length===t,`[fields:${r}] ${n} length ${e.length} != expected ${t} (${l})`)},mi=(e,t)=>{const n=e.resolution.texels;Rn(e.gx,n,"gradX","rim",t),Rn(e.gy,n,"gradY","rim",t),Rn(e.mag,n,"mag","rim",t)},ju=(e,t)=>{const n=e.resolution.texels*to.surface.channels.length;Rn(e.rgba,n,"rgba","surface",t)},Ir=(e,t)=>{const n=e.resolution.texels;Rn(e.gradX,n,"gradX","phase",t),Rn(e.gradY,n,"gradY","phase",t),Rn(e.vort,n,"vort","phase",t),Rn(e.coh,n,"coh","phase",t),Rn(e.amp,n,"amp","phase",t)},Tg=(e,t)=>{const n=e.resolution.texels;Rn(e.zr,n,"zr","volume",t),Rn(e.zi,n,"zi","volume",t)},Pg=e=>({kind:"surface",resolution:tu(e.width,e.height),rgba:e.data}),_g=(e,t,n)=>Math.max(t,Math.min(n,e)),Fg=e=>_g(e,0,1),Kl=e=>{let t=e;for(;t>Math.PI;)t-=2*Math.PI;for(;t<=-Math.PI;)t+=2*Math.PI;return t},Cn=(e,t,n,r)=>{const l=(e%n+n)%n;return(t%r+r)%r*n+l},qf=(e,t)=>{const n=e*t;return{width:e,height:t,Zr:new Float32Array(n),Zi:new Float32Array(n)}},Ng=5,Du=(e,t)=>e*t*Ng*Float32Array.BYTES_PER_ELEMENT,Za=(e,t,n)=>{const r=t*n,l=new Float32Array(e),o=l.subarray(0,r),a=l.subarray(r,r*2),u=l.subarray(r*2,r*3),i=l.subarray(r*3,r*4),m=l.subarray(r*4,r*5);return{kind:"phase",resolution:tu(t,n),gradX:o,gradY:a,vort:u,coh:i,amp:m}},ed=(e,t,n)=>{const{width:r,height:l,Zr:o,Zi:a}=e;for(let u=0;u<l;u++)for(let i=0;i<r;i++){const m=2*Math.PI*t*i/r,f=u*r+i;o[f]=Math.cos(m),a[f]=Math.sin(m)}n&&(n.gradX.fill(0),n.gradY.fill(0),n.vort.fill(0),n.coh.fill(.5),n.amp.fill(0))},td=(e,t,n,r)=>{const{width:l,height:o,Zr:a,Zi:u}=e,{alphaKur:i,gammaKur:m,omega0:f,K0:y,epsKur:g}=t,x=Math.cos(i),C=Math.sin(i);for(let E=0;E<o;E++)for(let _=0;_<l;_++){const p=E*l+_,d=Cn(_-1,E,l,o),s=Cn(_+1,E,l,o),k=Cn(_,E-1,l,o),M=Cn(_,E+1,l,o),R=.2*(a[p]+a[d]+a[s]+a[k]+a[M]),F=.2*(u[p]+u[d]+u[s]+u[k]+u[M]),A=a[p],G=u[p],B=A*A-G*G,ce=2*A*G,cn=x*R+C*F,Re=-C*R+x*F,Vn=R,qe=-F,_n=B*Vn-ce*qe,Me=B*qe+ce*Vn,N=x*_n-C*Me,D=C*_n+x*Me,K=-m*A-f*G+.5*y*(cn-N),X=-m*G+f*A+.5*y*(Re-D),te=Math.sqrt(Math.max(n*g,0));a[p]=A+n*K+te*r(),u[p]=G+n*X+te*r()}},nd=(e,t)=>{const{width:n,height:r,Zr:l,Zi:o}=e,{gradX:a,gradY:u,vort:i,coh:m,amp:f}=t,y=g=>Math.atan2(o[g],l[g]);for(let g=0;g<r;g++)for(let x=0;x<n;x++){const C=g*n+x,E=Cn(x-1,g,n,r),_=Cn(x+1,g,n,r),p=Cn(x,g-1,n,r),d=Cn(x,g+1,n,r);a[C]=.5*Kl(y(_)-y(E)),u[C]=.5*Kl(y(d)-y(p));const s=Math.hypot(l[C],o[C]);f[C]=s,m[C]=Fg(s)}for(let g=0;g<r;g++)for(let x=0;x<n;x++){const C=g*n+x,E=Cn(x+1,g,n,r),_=Cn(x+1,g+1,n,r),p=Cn(x,g+1,n,r),d=Kl(y(E)-y(C)),s=Kl(y(_)-y(E)),k=Kl(y(p)-y(_)),M=Kl(y(C)-y(p));i[C]=(d+s+k+M)/(2*Math.PI)}},Ig=e=>{let t=e>>>0;return()=>{t+=1831565813;let n=Math.imul(t^t>>>15,1|t);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}},Lg=e=>{const t=Ig(e);let n=null;return()=>{if(n!=null){const i=n;return n=null,i}let r=0,l=0;for(;r===0;)r=t();for(;l===0;)l=t();const o=Math.sqrt(-2*Math.log(r)),a=o*Math.cos(2*Math.PI*l);return n=o*Math.sin(2*Math.PI*l),a}},Ag=e=>({kind:"volume",resolution:tu(e.width,e.height),zr:e.Zr,zi:e.Zi}),jg=`#version 300 es
precision highp float;

layout (location = 0) in vec2 aPosition;
out vec2 vUv;

void main() {
  // Keep y=0 at the top edge so the shader matches the CPU compositor orientation.
  vUv = vec2((aPosition.x + 1.0) * 0.5, (1.0 - aPosition.y) * 0.5);
  gl_Position = vec4(aPosition, 0.0, 1.0);
}
`,Dg=`#version 300 es
precision highp float;

${Rg}

in vec2 vUv;
out vec4 fragColor;

uniform sampler2D uBaseTex;
uniform sampler2D uEdgeTex;
uniform sampler2D uKurTex;
uniform sampler2D uKurAmpTex;

uniform vec2 uResolution;
uniform float uTime;

uniform float uEdgeThreshold;
uniform float uEffectiveBlend;
uniform int uDisplayMode;
uniform vec3 uBaseOffsets;
uniform float uSigma;
uniform float uJitter;
uniform float uJitterPhase;
uniform float uBreath;
uniform float uMuJ;
uniform int uPhasePin;
uniform int uMicrosaccade;
uniform int uPolBins;
uniform int uThetaMode;
uniform float uThetaGlobal;
uniform float uContrast;
uniform float uFrameGain;
uniform int uRimEnabled;
uniform float uRimAlpha;
uniform float uWarpAmp;
uniform float uSurfaceBlend;
uniform int uSurfaceRegion;
uniform int uSurfEnabled;
uniform int uKurEnabled;
uniform int uUseWallpaper;
uniform int uOpsCount;
uniform vec4 uOps[8];
uniform int uOrientCount;
uniform float uOrientCos[8];
uniform float uOrientSin[8];
uniform vec2 uCanvasCenter;
uniform float uKernelGain;
uniform float uKernelK0;
uniform float uKernelQ;
uniform float uKernelAniso;
uniform float uKernelChirality;
uniform float uAlive;
uniform float uBeta2;
uniform float uCouplingRimSurfaceBlend;
uniform float uCouplingRimSurfaceAlign;
uniform float uCouplingSurfaceRimOffset;
uniform float uCouplingSurfaceRimSigma;
uniform float uCouplingSurfaceRimHue;
uniform float uCouplingKurTransparency;
uniform float uCouplingKurOrientation;
uniform float uCouplingKurChirality;
uniform float uCouplingScale;

const float TAU = 6.283185307179586;

float clamp01(float v) {
  return clamp(v, 0.0, 1.0);
}

float hash2(float x, float y) {
  return fract(sin(x * 127.1 + y * 311.7) * 43758.5453);
}

vec4 fetchEdge(ivec2 coord) {
  return texelFetch(uEdgeTex, coord, 0);
}

vec4 fetchKur(ivec2 coord) {
  return texelFetch(uKurTex, coord, 0);
}

float sampleScalarTexture(sampler2D tex, vec2 coord, int component) {
  vec2 clamped = clamp(coord, vec2(0.0), uResolution - vec2(1.001));
  vec2 base = floor(clamped);
  vec2 frac = clamped - base;
  int width = int(uResolution.x);
  int height = int(uResolution.y);
  int x0 = int(base.x);
  int y0 = int(base.y);
  int x1 = min(x0 + 1, width - 1);
  int y1 = min(y0 + 1, height - 1);
  // Textures are uploaded without UNPACK_FLIP; texelFetch coords follow the same top-left convention as the CPU sampler.
  ivec2 i00 = ivec2(x0, y0);
  ivec2 i10 = ivec2(x1, y0);
  ivec2 i01 = ivec2(x0, y1);
  ivec2 i11 = ivec2(x1, y1);
  vec4 v00 = texelFetch(tex, i00, 0);
  vec4 v10 = texelFetch(tex, i10, 0);
  vec4 v01 = texelFetch(tex, i01, 0);
  vec4 v11 = texelFetch(tex, i11, 0);
  float a = mix(v00[component], v10[component], frac.x);
  float b = mix(v01[component], v11[component], frac.x);
  return mix(a, b, frac.y);
}

vec3 sampleRgbTexture(sampler2D tex, vec2 coord) {
  vec2 clamped = clamp(coord, vec2(0.0), uResolution - vec2(1.001));
  vec2 base = floor(clamped);
  vec2 frac = clamped - base;
  int width = int(uResolution.x);
  int height = int(uResolution.y);
  int x0 = int(base.x);
int y0 = int(base.y);
int x1 = min(x0 + 1, width - 1);
int y1 = min(y0 + 1, height - 1);
ivec2 i00 = ivec2(x0, y0);
ivec2 i10 = ivec2(x1, y0);
ivec2 i01 = ivec2(x0, y1);
ivec2 i11 = ivec2(x1, y1);
  vec4 v00 = texelFetch(tex, i00, 0);
  vec4 v10 = texelFetch(tex, i10, 0);
  vec4 v01 = texelFetch(tex, i01, 0);
  vec4 v11 = texelFetch(tex, i11, 0);
  vec3 a = mix(v00.rgb, v10.rgb, frac.x);
  vec3 b = mix(v01.rgb, v11.rgb, frac.x);
  return mix(a, b, frac.y);
}

vec2 computeLatticeFlow(vec2 coord) {
  if (uOrientCount <= 0) {
    return vec2(0.0);
  }
  float freq = 0.015 + 0.004 * float(uOrientCount);
  float timeShift = uTime * 0.6;
  vec2 flow = vec2(0.0);
  for (int k = 0; k < 8; ++k) {
    if (k >= uOrientCount) break;
    float proj = (coord.x - uCanvasCenter.x) * uOrientCos[k] + (coord.y - uCanvasCenter.y) * uOrientSin[k];
    float phaseVal = proj * freq + timeShift + float(k) * 0.35;
    float magnitude = 0.5 + 0.5 * sin(phaseVal + uBeta2 * 0.25);
    flow += vec2(uOrientCos[k], uOrientSin[k]) * magnitude;
  }
  return flow / max(float(uOrientCount), 1.0);
}

vec2 applyOp(vec4 op, vec2 point) {
  int kind = int(op.x + 0.5);
  vec2 p = point - uCanvasCenter;
  if (kind == 0) {
    float ang = op.y;
    float c = cos(ang);
    float s = sin(ang);
    p = vec2(c * p.x - s * p.y, s * p.x + c * p.y);
  } else if (kind == 1) {
    p = vec2(-p.x, p.y);
  } else if (kind == 2) {
    p = vec2(p.x, -p.y);
  } else if (kind == 3) {
    p = vec2(p.y, p.x);
  } else if (kind == 4) {
    p = vec2(-p.y, -p.x);
  }
  return p + uCanvasCenter;
}

vec2 wallpaperAt(vec2 relPt) {
  int N = uOrientCount;
  if (N <= 0) return vec2(0.0);
  float gx = 0.0;
  float gy = 0.0;
  for (int j = 0; j < 8; ++j) {
    if (j >= N) break;
    float c = uOrientCos[j];
    float s = uOrientSin[j];
    float phase = uKernelChirality * (float(j) / float(N));
    if (uAlive > 0.5) {
      phase += 0.2 * sin(TAU * 0.3 * uTime + float(j));
    }
    float arg = TAU * uKernelK0 * (relPt.x * c + relPt.y * s) + phase;
    float d = -TAU * uKernelK0 * sin(arg);
    gx += d * c;
    gy += d * s;
  }
  float inv = 1.0 / float(N);
  return vec2(gx, gy) * inv;
}

float gauss(float x, float s) {
  return exp(-(x * x) / (2.0 * s * s + 1e-9));
}

float luma01(vec3 c) {
  return clamp01(dot(c, vec3(0.2126, 0.7152, 0.0722)));
}

vec3 clamp01(vec3 v) {
  return clamp(v, vec3(0.0), vec3(1.0));
}

float wrapPi(float theta) {
  float twoPi = TAU;
  return theta - floor((theta + 3.141592653589793) / twoPi) * twoPi - 3.141592653589793;
}

float responseSoft(float value, float shaping) {
  float v = clamp(value, 0.0, 1.0);
  float expVal = mix(1.2, 3.5, clamp(shaping, 0.0, 1.0));
  return 1.0 - pow(max(0.0, 1.0 - v), expVal);
}

float responsePow(float value, float shaping) {
  float v = clamp(value, 0.0, 1.0);
  float expVal = mix(1.65, 0.55, clamp(shaping, 0.0, 1.0));
  return pow(v, expVal);
}

void main() {
  vec2 fragCoord = vec2(vUv.x * uResolution.x, vUv.y * uResolution.y);
  vec2 fragClamped = clamp(fragCoord, vec2(0.0), uResolution - vec2(1.0));
  int xPix = int(fragClamped.x);
  int yPix = int(fragClamped.y);
  ivec2 icoord = ivec2(xPix, yPix);

  vec4 edgeSample = fetchEdge(icoord);
  vec3 baseRgb = texelFetch(uBaseTex, icoord, 0).rgb;
  float magVal = edgeSample.b;

  if (uDisplayMode == 1 || uDisplayMode == 2) {
    float yb = clamp01(dot(baseRgb, vec3(0.2126, 0.7152, 0.0722)));
    baseRgb = vec3(yb);
  }

  vec2 warpFlow = computeLatticeFlow(fragCoord);
  if (uUseWallpaper == 1 && uOrientCount == 0) {
    vec2 accum = vec2(0.0);
    if (uOpsCount == 0) {
      accum = wallpaperAt(fragCoord - uCanvasCenter);
    } else {
      for (int k = 0; k < 8; ++k) {
        if (k >= uOpsCount) break;
        vec2 pt = applyOp(uOps[k], fragCoord);
        accum += wallpaperAt(pt - uCanvasCenter);
      }
      accum /= float(uOpsCount);
    }
    warpFlow += accum;
  }

  vec2 kurGrad = vec2(0.0);
  float vortVal = 0.0;
  float cohVal = 0.0;
  float ampVal = 0.0;
  if (uKurEnabled == 1) {
    vec4 kurSample = fetchKur(icoord);
    kurGrad = kurSample.xy;
    vortVal = kurSample.z;
    cohVal = clamp(kurSample.w, 0.0, 1.0);
    ampVal = clamp(texelFetch(uKurAmpTex, icoord, 0).r, 0.0, 1.0);
  }

  vec2 combinedFlow = warpFlow + kurGrad;
  vec2 gradEdge = edgeSample.rg;

  vec3 resultRgb = baseRgb;
  float rimEnergy = 0.0;

  float couplingScale = uCouplingScale;
  float sigmaFloorBase = max(0.25, uSigma * 0.25);

  vec2 normal = vec2(0.0);
  vec2 tangent = vec2(0.0);
  float edgeLen = length(gradEdge);
  if (edgeLen > 1e-8) {
    normal = gradEdge / edgeLen;
    tangent = vec2(-normal.y, normal.x);
  }

  if (uRimEnabled == 1 && magVal >= uEdgeThreshold) {
    float thetaRaw = atan(normal.y, normal.x);
    float thetaEdge = thetaRaw;
    if (uThetaMode == 1) {
      thetaEdge = uThetaGlobal;
    } else if (uPolBins > 0) {
      float steps = float(uPolBins);
      thetaEdge = round((thetaRaw / TAU) * steps) * (TAU / steps);
    }

    float thetaUse = thetaEdge;
    if (uCouplingKurOrientation > 0.0) {
      float kurNorm = length(kurGrad);
      if (kurNorm > 1e-6) {
        vec2 edgeDir = vec2(cos(thetaUse), sin(thetaUse));
        vec2 kurDir = kurGrad / kurNorm;
        float mixW = clamp(uCouplingKurOrientation * couplingScale, 0.0, 1.0);
        vec2 blended = mix(edgeDir, kurDir, mixW);
        thetaUse = atan(blended.y, blended.x);
        if (uPolBins > 0) {
          float steps = float(uPolBins);
          thetaUse = round((thetaUse / TAU) * steps) * (TAU / steps);
        }
      }
    }

    float delta = uKernelAniso * 0.9;
    float rho = uKernelChirality * 0.75;
    float thetaEff = thetaUse + rho * uTime;
    float polL = 0.5 * (1.0 + cos(delta) * cos(2.0 * thetaEff));
    float polM = 0.5 * (1.0 + cos(delta) * cos(2.0 * (thetaEff + 0.3)));
    float polS = 0.5 * (1.0 + cos(delta) * cos(2.0 * (thetaEff + 0.6)));

    float jitterSeed = hash2(floor(fragCoord.x + 0.5), floor(fragCoord.y + 0.5));
    float rawJ = sin(uJitterPhase + jitterSeed * TAU);
    float jitterFactor = uJitter * float(uMicrosaccade);
    float localJ = jitterFactor * (float(uPhasePin) == 1.0 ? (rawJ - uMuJ) : rawJ);
    float breath = uBreath;

    float warpNorm = length(warpFlow);
    float bias = 0.0;
    if (uCouplingSurfaceRimOffset > 0.0 && warpNorm > 1e-6) {
      float proj = dot(warpFlow, normal) / (warpNorm + 1e-6);
      float magnitude = responseSoft(
        warpNorm / (1.05 + 0.55 * uKernelK0),
        uCouplingSurfaceRimOffset
      );
      float signedVal = clamp(proj, -1.0, 1.0) * magnitude;
      bias = clamp(
        0.65 * couplingScale * uCouplingSurfaceRimOffset * signedVal,
        -0.9,
        0.9
      );
    }

    float sigmaEff = uSigma;
    if (uCouplingSurfaceRimSigma > 0.0 && warpNorm > 1e-6) {
      float sharpness = responsePow(
        warpNorm / (1.15 + 0.6 * uKernelK0),
        uCouplingSurfaceRimSigma
      );
      float drop = clamp(
        0.75 * couplingScale * uCouplingSurfaceRimSigma * sharpness,
        0.0,
        1.0
      );
      float sigmaFloor = clamp(sigmaFloorBase, 0.0, uSigma);
      sigmaEff = clamp(uSigma * (1.0 - drop), sigmaFloor, uSigma);
    }

    float offL = uBaseOffsets.x + localJ * 0.35 + bias;
    float offM = uBaseOffsets.y + localJ * 0.5 + bias;
    float offS = uBaseOffsets.z + localJ * 0.8 + bias;

    float hueShift = 0.0;
    if (uCouplingSurfaceRimHue > 0.0 && warpNorm > 1e-6) {
      float latticeAngle = atan(warpFlow.y, warpFlow.x);
      float tangentAngle = atan(tangent.y, tangent.x);
      float deltaAngle = wrapPi(latticeAngle - tangentAngle);
      float hueAmplitude = responseSoft(
        min(abs(deltaAngle) / 3.141592653589793, 1.0),
        uCouplingSurfaceRimHue
      );
      float warpWeight = responsePow(
        warpNorm / (1.1 + 0.6 * uKernelK0),
        uCouplingSurfaceRimHue
      );
      float signedMag =
        (deltaAngle == 0.0 ? 0.0 : sign(deltaAngle)) * hueAmplitude * warpWeight;
      hueShift = clamp(
        couplingScale * uCouplingSurfaceRimHue * signedMag * 0.9,
        -1.4,
        1.4
      );
    }

    vec2 pos = fragCoord;
    vec2 samplePosL = pos + (offL + breath) * normal;
    vec2 samplePosM = pos + (offM + breath) * normal;
    vec2 samplePosS = pos + (offS + breath) * normal;

    float pL = sampleScalarTexture(uEdgeTex, samplePosL, 2);
    float pM = sampleScalarTexture(uEdgeTex, samplePosM, 2);
    float pS = sampleScalarTexture(uEdgeTex, samplePosS, 2);

    float gL = gauss(offL, sigmaEff) * uKernelGain;
    float gM = gauss(offM, sigmaEff) * uKernelGain;
    float gS = gauss(offS, sigmaEff) * uKernelGain;

    float QQ = 1.0 + 0.5 * uKernelQ;
    float modL = pow(0.5 * (1.0 + cos(TAU * uKernelK0 * offL)), QQ);
    float modM = pow(0.5 * (1.0 + cos(TAU * uKernelK0 * offM)), QQ);
    float modS = pow(0.5 * (1.0 + cos(TAU * uKernelK0 * offS)), QQ);

    float chiPhase = TAU * uKernelK0 * dot(pos, tangent) * 0.002 + hueShift;
    float chBase = uKernelChirality;
    if (uKurEnabled == 1 && uCouplingKurChirality > 0.0) {
      float vortClamped = clamp(vortVal, -1.0, 1.0);
      float vortScaled = 0.5 * couplingScale * uCouplingKurChirality * vortClamped;
      chBase = clamp(chBase + vortScaled, -3.0, 3.0);
    }

    float chiL = 0.5 + 0.5 * sin(chiPhase) * chBase;
    float chiM = 0.5 + 0.5 * sin(chiPhase + 0.8) * chBase;
    float chiS = 0.5 + 0.5 * sin(chiPhase + 1.6) * chBase;

    float cont = uContrast * uFrameGain;
    float Lc = pL * gL * modL * chiL * polL * cont;
    float Mc = pM * gM * modM * chiM * polM * cont;
    float Sc = pS * gS * modS * chiS * polS * cont;

    rimEnergy = (Lc + Mc + Sc) / max(1e-6, cont);

    vec3 rimRgb = vec3(
      clamp01(4.4679 * Lc - 3.5873 * Mc + 0.1193 * Sc),
      clamp01(-1.2186 * Lc + 2.3809 * Mc - 0.1624 * Sc),
      clamp01(0.0497 * Lc - 0.2439 * Mc + 1.2045 * Sc)
    );

    if (uDisplayMode == 2 || uDisplayMode == 3) {
      float yr = luma01(rimRgb);
      rimRgb = vec3(yr);
    }

    if (uDisplayMode == 4) {
      float rimSum = rimRgb.r + rimRgb.g + rimRgb.b;
      float baseSum = baseRgb.r + baseRgb.g + baseRgb.b;
      vec3 weights = vec3(1.0 / 3.0);
      if (baseSum > 1e-6) {
        weights = baseRgb / baseSum;
      }
      vec3 natural = clamp01(rimSum * weights);
      float hueBlend = 0.7;
      float baseBlend = 0.25;
      rimRgb = mix(rimRgb, natural, hueBlend);
      rimRgb = mix(rimRgb, baseRgb, baseBlend);
    }

    rimRgb *= uRimAlpha;

    float pixelBlend = clamp01(uEffectiveBlend);
    if (uKurEnabled == 1 && uCouplingKurTransparency > 0.0) {
      float kurMeasure = 0.5 * (cohVal + ampVal);
      float boost = clamp(
        1.0 +
          couplingScale * uCouplingKurTransparency * (kurMeasure - 0.5) * 1.5,
        0.1,
        2.5
      );
      pixelBlend = clamp(pixelBlend * boost, 0.0, 1.0);
    }

    resultRgb = mix(resultRgb, rimRgb, pixelBlend);
  }

  if (uSurfEnabled == 1) {
    float mask = 1.0;
    if (uSurfaceRegion == 0) {
      mask = clamp01(
        (uEdgeThreshold - magVal) / max(1e-6, uEdgeThreshold)
      );
    } else if (uSurfaceRegion == 1) {
      mask = clamp01(
        (magVal - uEdgeThreshold) / max(1e-6, 1.0 - uEdgeThreshold)
      );
    }
    if (mask > 1e-3) {
      vec2 surfFlow = combinedFlow;
      if (uCouplingRimSurfaceAlign > 0.0 && magVal >= uEdgeThreshold && edgeLen > 1e-8) {
        vec2 tangentN = tangent;
        float surfLen = length(surfFlow);
        if (surfLen > 1e-6) {
          float dotVal = dot(surfFlow, tangentN) / (surfLen + 1e-9);
          float alignment = responsePow(
            (dotVal + 1.0) * 0.5,
            uCouplingRimSurfaceAlign
          );
          float alignWeight =
            clamp(uCouplingRimSurfaceAlign * couplingScale * alignment, 0.0, 1.0);
          vec2 target = tangentN * surfLen;
          surfFlow = mix(surfFlow, target, alignWeight);
        }
      }
      if (uKurEnabled == 1 && uCouplingKurOrientation > 0.0) {
        float kurNorm = length(kurGrad);
        float surfLen = length(surfFlow);
        if (kurNorm > 1e-6 && surfLen > 1e-6) {
          vec2 target = (kurGrad / kurNorm) * surfLen;
          float weight =
            clamp(uCouplingKurOrientation * couplingScale * 0.75, 0.0, 1.0);
          surfFlow = mix(surfFlow, target, weight);
        }
      }
      float dirNorm = length(surfFlow) + 1e-6;
      float dirAngle = atan(surfFlow.y, surfFlow.x);
      float dirW = 1.0 + 0.5 * uKernelAniso * cos(2.0 * dirAngle);
      float amplitude = clamp(uWarpAmp * dirNorm * dirW, 0.0, 1.0);
      float phaseShift = dirAngle + uTime * 0.45;
      vec3 warped = vec3(
        clamp01(0.5 + 0.5 * sin(phaseShift)),
        clamp01(0.5 + 0.5 * sin(phaseShift + 2.094395102f)),
        clamp01(0.5 + 0.5 * sin(phaseShift + 4.188790204f))
      );
      warped *= amplitude;
      if (uDisplayMode == 2) {
        float yy = luma01(warped);
        warped = vec3(yy);
      }
      float sb = uSurfaceBlend * mask;
      if (uCouplingRimSurfaceBlend > 0.0) {
        float energy = responseSoft(
          rimEnergy / (0.75 + 0.25 * uKernelGain),
          uCouplingRimSurfaceBlend
        );
        float rimBoost = clamp(
          1.0 + couplingScale * uCouplingRimSurfaceBlend * energy,
          0.2,
          3.0
        );
        sb *= rimBoost;
      }
      if (uKurEnabled == 1 && uCouplingKurTransparency > 0.0) {
        float kurMeasure = 0.5 * (cohVal + ampVal);
        float boost = clamp(
          1.0 +
            couplingScale *
              uCouplingKurTransparency *
              (kurMeasure - 0.5) *
              1.5,
          0.1,
          3.0
        );
        sb *= boost;
      }
      sb = clamp01(sb);
      resultRgb = mix(resultRgb, warped, sb);
    }
  }

  fragColor = vec4(resultRgb, 1.0);
}
`,zg=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);function rd(e){const t=Og(e,jg,Dg),n=e.getAttribLocation(t,"aPosition"),r=e.createVertexArray(),l=e.createBuffer();if(!r||!l)throw new Error("Failed to allocate buffers for GPU renderer");e.bindVertexArray(r),e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,zg,e.STATIC_DRAW),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),e.bindVertexArray(null);const o=Ug(e,t),a=Ja(e,{format:e.RGBA,internalFormat:e.RGBA8,type:e.UNSIGNED_BYTE}),u=Ja(e,{format:e.RGBA,internalFormat:e.RGBA32F,type:e.FLOAT}),i=Ja(e,{format:e.RGBA,internalFormat:e.RGBA32F,type:e.FLOAT}),m=Ja(e,{format:e.RED,internalFormat:e.R32F,type:e.FLOAT}),f={width:1,height:1,textures:{base:a,edge:u,kur:i,amp:m}},y=new Float32Array(32),g=new Float32Array(8),x=new Float32Array(8);let C=null,E=null,_=null,p="empty";return e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.disable(e.BLEND),e.clearColor(0,0,0,1),{resize(s,k){f.width=s,f.height=k,e.viewport(0,0,s,k),C=null,E=null,_=null,p="empty"},uploadBase(s){Bg(e,f.textures.base.texture,s)},uploadRim(s){const k=f.width*f.height,M=k*4;if((!C||C.length!==M)&&(C=new Float32Array(M)),!s)C.fill(0);else{if(mi(s,"gpu:rim"),s.resolution.width!==f.width||s.resolution.height!==f.height)throw new Error(`[gpuRenderer] rim field resolution ${s.resolution.width}x${s.resolution.height} mismatch renderer ${f.width}x${f.height}`);for(let R=0;R<k;R++)C[R*4+0]=s.gx[R],C[R*4+1]=s.gy[R],C[R*4+2]=s.mag[R],C[R*4+3]=0}zu(e,f.textures.edge.texture,C,f.width,f.height)},uploadPhase(s){const k=f.width*f.height,M=k*4;if((!E||E.length!==M)&&(E=new Float32Array(M),p="empty"),(!_||_.length!==k)&&(_=new Float32Array(k),p="empty"),!s){p!=="zeros"&&(E.fill(0),_.fill(0),zu(e,f.textures.kur.texture,E,f.width,f.height),od(e,f.textures.amp.texture,_,f.width,f.height),p="zeros");return}if(Ir(s,"gpu:phase"),s.resolution.width!==f.width||s.resolution.height!==f.height)throw new Error(`[gpuRenderer] phase field resolution ${s.resolution.width}x${s.resolution.height} mismatch renderer ${f.width}x${f.height}`);for(let R=0;R<k;R++)E[R*4+0]=s.gradX[R],E[R*4+1]=s.gradY[R],E[R*4+2]=s.vort[R],E[R*4+3]=s.coh[R],_[R]=s.amp[R];zu(e,f.textures.kur.texture,E,f.width,f.height),od(e,f.textures.amp.texture,_,f.width,f.height),p="data"},render(s){e.useProgram(t),qa(e,f.textures.base.texture,0,o.baseTex),qa(e,f.textures.edge.texture,1,o.edgeTex),qa(e,f.textures.kur.texture,2,o.kurTex),qa(e,f.textures.amp.texture,3,o.kurAmpTex),e.uniform2f(o.resolution,f.width,f.height),e.uniform1f(o.time,s.time),e.uniform1f(o.edgeThreshold,s.edgeThreshold),e.uniform1f(o.effectiveBlend,s.effectiveBlend),e.uniform1i(o.displayMode,s.displayMode),e.uniform3f(o.baseOffsets,s.baseOffsets[0],s.baseOffsets[1],s.baseOffsets[2]),e.uniform1f(o.sigma,s.sigma),e.uniform1f(o.jitter,s.jitter),e.uniform1f(o.jitterPhase,s.jitterPhase),e.uniform1f(o.breath,s.breath),e.uniform1f(o.muJ,s.muJ),e.uniform1i(o.phasePin,s.phasePin?1:0),e.uniform1i(o.microsaccade,s.microsaccade?1:0),e.uniform1i(o.polBins,s.polBins),e.uniform1i(o.thetaMode,s.thetaMode),e.uniform1f(o.thetaGlobal,s.thetaGlobal),e.uniform1f(o.contrast,s.contrast),e.uniform1f(o.frameGain,s.frameGain),e.uniform1i(o.rimEnabled,s.rimEnabled?1:0),e.uniform1f(o.rimAlpha,s.rimAlpha),e.uniform1f(o.warpAmp,s.warpAmp),e.uniform1f(o.surfaceBlend,s.surfaceBlend),e.uniform1i(o.surfaceRegion,s.surfaceRegion),e.uniform1i(o.surfEnabled,s.surfEnabled?1:0),e.uniform1i(o.kurEnabled,s.kurEnabled?1:0),e.uniform1i(o.useWallpaper,s.useWallpaper?1:0),e.uniform2f(o.canvasCenter,s.center[0],s.center[1]),e.uniform1f(o.kernelGain,s.kernel.gain),e.uniform1f(o.kernelK0,s.kernel.k0),e.uniform1f(o.kernelQ,s.kernel.Q),e.uniform1f(o.kernelAniso,s.kernel.anisotropy),e.uniform1f(o.kernelChirality,s.kernel.chirality),e.uniform1f(o.alive,s.alive?1:0),e.uniform1f(o.beta2,s.beta2),e.uniform1f(o.couplingRimSurfaceBlend,s.coupling.rimToSurfaceBlend),e.uniform1f(o.couplingRimSurfaceAlign,s.coupling.rimToSurfaceAlign),e.uniform1f(o.couplingSurfaceRimOffset,s.coupling.surfaceToRimOffset),e.uniform1f(o.couplingSurfaceRimSigma,s.coupling.surfaceToRimSigma),e.uniform1f(o.couplingSurfaceRimHue,s.coupling.surfaceToRimHue),e.uniform1f(o.couplingKurTransparency,s.coupling.kurToTransparency),e.uniform1f(o.couplingKurOrientation,s.coupling.kurToOrientation),e.uniform1f(o.couplingKurChirality,s.coupling.kurToChirality),e.uniform1f(o.couplingScale,s.couplingScale);const k=s.ops;e.uniform1i(o.opsCount,k.length);for(let M=0;M<8;M++){const R=M*4;M<k.length?(y[R+0]=k[M].kind,y[R+1]=k[M].angle):(y[R+0]=0,y[R+1]=0),y[R+2]=0,y[R+3]=0}e.uniform4fv(o.ops,y),e.uniform1i(o.orientCount,s.orientations.cos.length),g.fill(0),g.set(s.orientations.cos.subarray(0,Math.min(8,s.orientations.cos.length))),e.uniform1fv(o.orientCos,g),x.fill(0),x.set(s.orientations.sin.subarray(0,Math.min(8,s.orientations.sin.length))),e.uniform1fv(o.orientSin,x),e.viewport(0,0,f.width,f.height),e.bindVertexArray(r),e.drawArrays(e.TRIANGLES,0,6),e.bindVertexArray(null)},readPixels(s){if(s.length<f.width*f.height*4)throw new Error("readPixels target buffer too small");e.readPixels(0,0,f.width,f.height,e.RGBA,e.UNSIGNED_BYTE,s)},dispose(){e.deleteProgram(t),e.deleteVertexArray(r),e.deleteBuffer(l),e.deleteTexture(f.textures.base.texture),e.deleteTexture(f.textures.edge.texture),e.deleteTexture(f.textures.kur.texture),e.deleteTexture(f.textures.amp.texture)}}}function Og(e,t,n){const r=ld(e,e.VERTEX_SHADER,t),l=ld(e,e.FRAGMENT_SHADER,n),o=e.createProgram();if(!o)throw new Error("Failed to create program");if(e.attachShader(o,r),e.attachShader(o,l),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){const a=e.getProgramInfoLog(o);throw e.deleteProgram(o),new Error(`Program link failed: ${a??"unknown error"}`)}return e.detachShader(o,r),e.detachShader(o,l),e.deleteShader(r),e.deleteShader(l),o}function ld(e,t,n){const r=e.createShader(t);if(!r)throw new Error("Failed to create shader");if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){const l=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error(`Shader compile failed: ${l??"unknown error"}`)}return r}function Ja(e,t){const n=e.createTexture();if(!n)throw new Error("Failed to create texture");return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindTexture(e.TEXTURE_2D,null),{texture:n,width:1,height:1}}function Bg(e,t,n){e.bindTexture(e.TEXTURE_2D,t),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data),e.bindTexture(e.TEXTURE_2D,null)}function zu(e,t,n,r,l){e.bindTexture(e.TEXTURE_2D,t),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA32F,r,l,0,e.RGBA,e.FLOAT,n),e.bindTexture(e.TEXTURE_2D,null)}function od(e,t,n,r,l){e.bindTexture(e.TEXTURE_2D,t),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.texImage2D(e.TEXTURE_2D,0,e.R32F,r,l,0,e.RED,e.FLOAT,n),e.bindTexture(e.TEXTURE_2D,null)}function qa(e,t,n,r){e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,t),e.uniform1i(r,n)}function Ug(e,t){return{baseTex:O(e,t,"uBaseTex"),edgeTex:O(e,t,"uEdgeTex"),kurTex:O(e,t,"uKurTex"),kurAmpTex:O(e,t,"uKurAmpTex"),resolution:O(e,t,"uResolution"),time:O(e,t,"uTime"),edgeThreshold:O(e,t,"uEdgeThreshold"),effectiveBlend:O(e,t,"uEffectiveBlend"),displayMode:O(e,t,"uDisplayMode"),baseOffsets:O(e,t,"uBaseOffsets"),sigma:O(e,t,"uSigma"),jitter:O(e,t,"uJitter"),jitterPhase:O(e,t,"uJitterPhase"),breath:O(e,t,"uBreath"),muJ:O(e,t,"uMuJ"),phasePin:O(e,t,"uPhasePin"),microsaccade:O(e,t,"uMicrosaccade"),polBins:O(e,t,"uPolBins"),thetaMode:O(e,t,"uThetaMode"),thetaGlobal:O(e,t,"uThetaGlobal"),contrast:O(e,t,"uContrast"),frameGain:O(e,t,"uFrameGain"),rimEnabled:O(e,t,"uRimEnabled"),rimAlpha:O(e,t,"uRimAlpha"),warpAmp:O(e,t,"uWarpAmp"),surfaceBlend:O(e,t,"uSurfaceBlend"),surfaceRegion:O(e,t,"uSurfaceRegion"),surfEnabled:O(e,t,"uSurfEnabled"),kurEnabled:O(e,t,"uKurEnabled"),useWallpaper:O(e,t,"uUseWallpaper"),opsCount:O(e,t,"uOpsCount"),ops:O(e,t,"uOps"),orientCount:O(e,t,"uOrientCount"),orientCos:O(e,t,"uOrientCos"),orientSin:O(e,t,"uOrientSin"),canvasCenter:O(e,t,"uCanvasCenter"),kernelGain:O(e,t,"uKernelGain"),kernelK0:O(e,t,"uKernelK0"),kernelQ:O(e,t,"uKernelQ"),kernelAniso:O(e,t,"uKernelAniso"),kernelChirality:O(e,t,"uKernelChirality"),alive:O(e,t,"uAlive"),beta2:O(e,t,"uBeta2"),couplingRimSurfaceBlend:O(e,t,"uCouplingRimSurfaceBlend"),couplingRimSurfaceAlign:O(e,t,"uCouplingRimSurfaceAlign"),couplingSurfaceRimOffset:O(e,t,"uCouplingSurfaceRimOffset"),couplingSurfaceRimSigma:O(e,t,"uCouplingSurfaceRimSigma"),couplingSurfaceRimHue:O(e,t,"uCouplingSurfaceRimHue"),couplingKurTransparency:O(e,t,"uCouplingKurTransparency"),couplingKurOrientation:O(e,t,"uCouplingKurOrientation"),couplingKurChirality:O(e,t,"uCouplingKurChirality"),couplingScale:O(e,t,"uCouplingScale")}}function O(e,t,n){const r=e.getUniformLocation(t,n);if(!r)throw new Error(`Uniform ${n} not found`);return r}const $l={g1:.6,k1:.35,q1:.5,a1:.7,c1:.6,t1:.5},Ve=(e,t,n)=>Math.max(t,Math.min(n,e)),H=e=>Ve(e,0,1),Ou=(e,t)=>Math.exp(-(e*e)/(2*t*t+1e-9)),ad=(e,t,n)=>H(.2126*e+.7152*t+.0722*n),jr=(e,t,n)=>e*(1-n)+t*n,Kg=e=>{let t=e;const n=2*Math.PI;return t=t-Math.floor((t+Math.PI)/n)*n,t-Math.PI},Bu=(e,t)=>{const n=H(e),r=jr(1.2,3.5,H(t));return 1-Math.pow(1-n,r)},Uu=(e,t)=>{const n=H(e),r=jr(1.65,.55,H(t));return Math.pow(n,r)},Bs=(e,t)=>{const n=Math.sin(e*127.1+t*311.7)*43758.5453;return n-Math.floor(n)},km=(e,t)=>({gain:e.gain*(1+$l.g1*t),k0:e.k0*(1+$l.k1*t),Q:e.Q*(1+$l.q1*t),anisotropy:e.anisotropy+$l.a1*t,chirality:e.chirality+$l.c1*t,transparency:e.transparency+$l.t1*t}),Cm=e=>{switch(e){case"p2":return[{kind:"rot",angle:0},{kind:"rot",angle:Math.PI}];case"p4":return[0,Math.PI/2,Math.PI,3*Math.PI/2].map(t=>({kind:"rot",angle:t}));case"p6":return Array.from({length:6},(t,n)=>({kind:"rot",angle:n*Math.PI/3}));case"pmm":return[{kind:"rot",angle:0},{kind:"rot",angle:Math.PI},{kind:"mirrorX"},{kind:"mirrorY"}];case"p4m":return[{kind:"rot",angle:0},{kind:"rot",angle:Math.PI/2},{kind:"rot",angle:Math.PI},{kind:"rot",angle:3*Math.PI/2},{kind:"mirrorX"},{kind:"mirrorY"},{kind:"diag1"},{kind:"diag2"}];default:return[{kind:"rot",angle:0}]}},$g=e=>e.map(t=>{switch(t.kind){case"rot":return{kind:0,angle:t.angle};case"mirrorX":return{kind:1,angle:0};case"mirrorY":return{kind:2,angle:0};case"diag1":return{kind:3,angle:0};case"diag2":return{kind:4,angle:0};default:return{kind:0,angle:0}}}),bg=(e,t,n,r,l)=>{const o=t-r,a=n-l;switch(e.kind){case"rot":{const u=Math.cos(e.angle),i=Math.sin(e.angle);return{x:r+u*o-i*a,y:l+i*o+u*a}}case"mirrorX":return{x:2*r-t,y:n};case"mirrorY":return{x:t,y:2*l-n};case"diag1":return{x:r+a,y:l+o};case"diag2":return{x:r-a,y:l-o};default:return{x:t,y:n}}},Ku=(e,t,n,r,l)=>{const o=Ve(t,0,r-1.001),a=Ve(n,0,l-1.001),u=Math.floor(o),i=Math.floor(a),m=u+1,f=i+1,y=o-u,g=a-i,x=(k,M)=>M*r+k,C=e[x(u,i)],E=e[x(Math.min(m,r-1),i)],_=e[x(u,Math.min(f,l-1))],p=e[x(Math.min(m,r-1),Math.min(f,l-1))],d=C*(1-y)+E*y,s=_*(1-y)+p*y;return d*(1-g)+s*g},Vg=(e,t,n,r,l,o,a)=>{const u=n.length,i=2*Math.PI;let m=0,f=0;for(let g=0;g<u;g++){const x=l.chirality*(g/Math.max(1,u))+(a?.2*Math.sin(i*.3*o+g):0),C=e*n[g]+t*r[g],E=i*l.k0*C+x,_=-i*l.k0*Math.sin(E);m+=_*n[g],f+=_*r[g]}const y=u>0?1/u:1;return{gx:m*y,gy:f*y}},Oo=(e,t,n)=>{if(n<=0)return{mean:0,std:0};const r=e/n,l=Ve(t/n-r*r,0,1/0);return{mean:r,std:Math.sqrt(l)}},$u=2*Math.PI,Hg=4,bu=32,id=e=>{const{width:t,height:n,timeSeconds:r,out:l,surface:o,rim:a,phase:u,kernel:i,dmt:m,blend:f,normPin:y,normTarget:g,lastObs:x,lambdaRef:C,lambdas:E,beta2:_,microsaccade:p,alive:d,phasePin:s,edgeThreshold:k,wallpaperGroup:M,surfEnabled:R,orientationAngles:F,thetaMode:A,thetaGlobal:G,polBins:B,jitter:ce,coupling:cn,sigma:Re,contrast:Vn,rimAlpha:qe,rimEnabled:_n,displayMode:Me,surfaceBlend:N,surfaceRegion:D,warpAmp:K,kurEnabled:X,debug:te}=e,ne=(te==null?void 0:te.rim)??null,Fe=(te==null?void 0:te.surface)??null;ne&&(ne.energyHist.fill(0),ne.hueHist.fill(0)),Fe&&Fe.magnitudeHist.fill(0);const ue={rim:{mean:0,max:0,std:0,count:0},warp:{mean:0,std:0,dominantAngle:0,count:0},gradient:{gradMean:0,gradStd:0,vortMean:0,vortStd:0,cohMean:0,cohStd:0,sampleCount:0},compositor:{effectiveBlend:0,surfaceMean:0,surfaceMax:0,surfaceCount:0}},jt=(o==null?void 0:o.rgba)??null,Et=a??null,We=u??null,{rimToSurfaceBlend:vt,rimToSurfaceAlign:fn,surfaceToRimOffset:Yt,surfaceToRimSigma:qr,surfaceToRimHue:dn,kurToTransparency:So,kurToOrientation:Hn,kurToChirality:Ca}=cn,hr=vt>1e-4||fn>1e-4,nu=Yt>1e-4||qr>1e-4||dn>1e-4,Gn=X&&So>1e-4,Ea=X&&Hn>1e-4,Wn=X&&Ca>1e-4,Xt=1+.65*m,gr=Math.max(.25,Re*.25);if(!!!(jt&&Et)){for(let $=0;$<n;$++)for(let le=0;le<t;le++){const V=($*t+le)*4,b=Math.sin(le/t*Math.PI*6+r),Ne=Math.sin($/n*Math.PI*6-r*.7),et=H(.5+.5*b*Ne);l[V+0]=Math.floor(et*255),l[V+1]=Math.floor((.4+.6*et)*180),l[V+2]=Math.floor((1-et)*255),l[V+3]=255}return{metrics:ue,obsAverage:null}}const{gx:pn,gy:wo,mag:Qn}=Et,mn=jt,Dt=(We==null?void 0:We.gradX)??null,Cl=(We==null?void 0:We.gradY)??null,hn=(We==null?void 0:We.vort)??null,vr=(We==null?void 0:We.coh)??null,yr=(We==null?void 0:We.amp)??null,Oe=km(i,m),Yn=H(f+Oe.transparency*.5),Ra=1e-6,Sr=y?Math.pow((g+Ra)/(x+Ra),.5):1;ue.compositor.effectiveBlend=Yn;const xo={L:_*(C/E.L-1),M:_*(C/E.M-1),S:_*(C/E.S-1)},Xn=p?r*6:0,wr=d?.15*Math.sin(2*Math.PI*.55*r):0,$e=M==="off"?[]:Cm(M),ko=$e.length,Fn=R||nu,se=t*.5,Co=n*.5,Zt=F.map($=>Math.cos($)),Eo=F.map($=>Math.sin($));if(Dt&&Cl){let $=0,le=0,V=0,b=0,Ne=0,et=0;const Ie=Dt.length;for(let be=0;be<Ie;be++){const yt=Math.hypot(Dt[be],Cl[be]);$+=yt,le+=yt*yt;const In=hn?hn[be]:0;V+=In,b+=In*In;const Rt=vr?vr[be]:0;Ne+=Rt,et+=Rt*Rt}ue.gradient.gradMean=$/Ie,ue.gradient.gradStd=Oo($,le,Ie).std,ue.gradient.vortMean=V/Ie,ue.gradient.vortStd=Oo(V,b,Ie).std,ue.gradient.cohMean=Ne/Ie,ue.gradient.cohStd=Oo(Ne,et,Ie).std,ue.gradient.sampleCount=Ie}let xr=0,el=0;if(s&&p){for(let le=0;le<n;le+=8)for(let V=0;V<t;V+=8){const b=le*t+V;Qn[b]>=k&&(xr+=Math.sin(Xn+Bs(V,le)*Math.PI*2),el++)}xr=el?xr/el:0}let El=0,tl=0,Rl=0,Ml=0,nl=0,rl=0,Tl=0,Pl=0,Qe=0,Ma=0,ll=0,Ta=0,ol=0,Zn=0,Jt=Number.POSITIVE_INFINITY,_l=0,qt=Number.POSITIVE_INFINITY,Fl=0,kr=0;for(let $=0;$<n;$++)for(let le=0;le<t;le++){const V=$*t+le,b=V*4;if(l[b+0]=mn[b+0],l[b+1]=mn[b+1],l[b+2]=mn[b+2],l[b+3]=255,Me==="grayBaseColorRims"||Me==="grayBaseGrayRims"){const W=Math.floor(.2126*l[b+0]+.7152*l[b+1]+.0722*l[b+2]);l[b+0]=W,l[b+1]=W,l[b+2]=W}let Ne=0,et=0;X&&Dt&&Cl&&(Ne=Dt[V],et=Cl[V]);let Ie=0,be=0;const yt=Zt.length,In=Fe?Math.min(Fe.orientationCount,yt):0;if(yt>0){const W=.015+.004*yt,re=r*.6+m*.3;for(let U=0;U<yt;U++){const Le=((le-se)*Zt[U]+($-Co)*Eo[U])*W+re+U*.35,me=.5+.5*Math.sin(Le+_*.25),Xe=(Le%$u+$u)%$u;if(Ie+=Zt[U]*me,be+=Eo[U]*me,Fe&&U<In){Fe.phases[U][V]=Xe,Fe.magnitudes[U][V]=me;const he=U*bu,Ae=Math.min(bu-1,Math.floor(Ve(me,0,.999999)*bu));Fe.magnitudeHist[he+Ae]+=1,me>kr&&(kr=me)}}const oe=1/Math.max(yt,1);Ie*=oe,be*=oe}else if(Fn){for(let re=0;re<ko;re++){const oe=bg($e[re],le,$,se,Co),U=Vg(oe.x-se,oe.y-Co,Zt,Eo,Oe,r,d);Ie+=U.gx,be+=U.gy}const W=ko>0?1/ko:1;Ie*=W,be*=W}const Rt=Ne+Ie,Il=et+be,ut=Math.hypot(Rt,Il);ut>0&&(Tl+=ut,Pl+=ut*ut,Ma+=Rt/ut,ll+=Il/ut,Qe++);const Jn=Qn[V];let Ye=0;if(_n&&Jn>=k){let W=pn[V],re=wo[V];const oe=Math.hypot(W,re)+1e-8;W/=oe,re/=oe;const U=-re,Er=W,Le=Math.PI*2,me=Math.atan2(re,W);let he=A==="gradient"?B>0?Math.round(me/Le*B)*(Le/B):me:G;if(Ea){const fe=Math.hypot(Ne,et);if(fe>1e-6){const ve=Math.cos(he),Be=Math.sin(he),ft=Ne/fe,De=et/fe,dt=H(Hn*Xt),jl=jr(ve,ft,dt),Dl=jr(Be,De,dt);he=Math.atan2(Dl,jl),B>0&&(he=Math.round(he/Le*B)*(Le/B))}}const Ae=Oe.anisotropy*.9,tt=Oe.chirality*.75,xe=he+tt*r,ge=.5*(1+Math.cos(Ae)*Math.cos(2*xe)),nt=.5*(1+Math.cos(Ae)*Math.cos(2*(xe+.3))),Ot=.5*(1+Math.cos(Ae)*Math.cos(2*(xe+.6))),st=Math.sin(Xn+Bs(le,$)*Math.PI*2),gn=ce*(p?s?st-xr:st:0),Mt=Math.hypot(Ie,be);let Ln=0;if(Yt>1e-4&&Mt>1e-6){const fe=(Ie*W+be*re)/(Mt+1e-9),ve=Bu(Mt/(1.05+.55*Oe.k0),Yt),Be=Ve(fe,-1,1)*ve;Ln=Ve(.65*Xt*Yt*Be,-.9,.9)}let qn=Re;if(qr>1e-4&&Mt>1e-6){const fe=Uu(Mt/(1.15+.6*Oe.k0),qr),ve=H(.75*Xt*qr*fe),Be=Math.min(Re,gr);qn=Ve(Re*(1-ve),Be,Re)}const An=xo.L+gn*.35+Ln,Rr=xo.M+gn*.5+Ln,al=xo.S+gn*.8+Ln;let jn=0;if(dn>1e-4&&Mt>1e-6){const fe=Math.atan2(be,Ie),ve=Math.atan2(Er,U),Be=Kg(fe-ve),ft=Bu(Math.min(Math.abs(Be)/Math.PI,1),dn),De=Uu(Mt/(1.1+.6*Oe.k0),dn),dt=(Be===0?0:Math.sign(Be))*ft*De;jn=Ve(Xt*dn*dt*.9,-1.4,1.4)}const Dn=Ku(Qn,le+(An+wr)*W,$+(An+wr)*re,t,n),Mo=Ku(Qn,le+(Rr+wr)*W,$+(Rr+wr)*re,t,n),en=Ku(Qn,le+(al+wr)*W,$+(al+wr)*re,t,n),Bt=Ou(An,qn)*Oe.gain,er=Ou(Rr,qn)*Oe.gain,tr=Ou(al,qn)*Oe.gain,To=1+.5*Oe.Q,tn=Math.pow(.5*(1+Math.cos(2*Math.PI*Oe.k0*An)),To),Pa=Math.pow(.5*(1+Math.cos(2*Math.PI*Oe.k0*Rr)),To),Ll=Math.pow(.5*(1+Math.cos(2*Math.PI*Oe.k0*al)),To),Mr=2*Math.PI*Oe.k0*(le*U+$*Er)*.002+jn;let zn=Oe.chirality;if(Wn&&hn){const fe=Ve(hn[V],-1,1),ve=.5*Xt*Ca*fe;zn=Ve(zn+ve,-3,3)}const Al=.5+.5*Math.sin(Mr)*zn,_a=.5+.5*Math.sin(Mr+.8)*zn,Tr=.5+.5*Math.sin(Mr+1.6)*zn,nr=Vn*Sr,Pr=Dn*Bt*tn*Al*ge*nr,vn=Mo*er*Pa*_a*nt*nr,Ut=en*tr*Ll*Tr*Ot*nr;Ye=(Pr+vn+Ut)/Math.max(1e-6,nr);let St=4.4679*Pr+-3.5873*vn+.1193*Ut,ct=-1.2186*Pr+2.3809*vn+-.1624*Ut,rt=.0497*Pr+-.2439*vn+1.2045*Ut;if(St=H(St),ct=H(ct),rt=H(rt),Me==="grayBaseGrayRims"||Me==="colorBaseGrayRims"){const fe=ad(St,ct,rt);St=fe,ct=fe,rt=fe}else if(Me==="colorBaseBlendedRims"){const fe=H(mn[b+0]/255),ve=H(mn[b+1]/255),Be=H(mn[b+2]/255),ft=St+ct+rt,De=fe+ve+Be,dt=De>1e-6?1/De:1/3,jl=De>1e-6?fe*dt:1/3,Dl=De>1e-6?ve*dt:1/3,yn=De>1e-6?Be*dt:1/3,_r=H(ft*jl),zl=H(ft*Dl),Fa=H(ft*yn),On=.7,nn=.25;St=H(St*(1-On)+_r*On),ct=H(ct*(1-On)+zl*On),rt=H(rt*(1-On)+Fa*On),St=H(St*(1-nn)+fe*nn),ct=H(ct*(1-nn)+ve*nn),rt=H(rt*(1-nn)+Be*nn)}if(St*=qe,ct*=qe,rt*=qe,ne){const fe=Ve(Ye/Hg,0,.999999),ve=Math.min(ne.energyHist.length-1,Math.floor(fe*ne.energyHist.length));ne.energy[V]=Ye,ne.energyHist[ve]+=1;const Be=Math.sqrt(3)*(ct-rt),ft=2*St-ct-rt+1e-9;let De=Math.atan2(Be,ft)/Le;De<0&&(De+=1),ne.hue[V]=De;const dt=Math.min(ne.hueHist.length-1,Math.floor(De*ne.hueHist.length));ne.hueHist[dt]+=1,Ye<Jt&&(Jt=Ye),Ye>_l&&(_l=Ye),De<qt&&(qt=De),De>Fl&&(Fl=De)}let Tt=Yn;if(Gn&&vr){const fe=H(vr[V]),ve=yr?H(yr[V]):fe,Be=.5*(fe+ve),ft=Ve(1+Xt*So*(Be-.5)*1.5,.1,2.5);Tt=H(Tt*ft)}l[b+0]=Math.floor(l[b+0]*(1-Tt)+St*255*Tt),l[b+1]=Math.floor(l[b+1]*(1-Tt)+ct*255*Tt),l[b+2]=Math.floor(l[b+2]*(1-Tt)+rt*255*Tt),Rl+=Ye,Ml+=Ye*Ye,nl++,Ye>rl&&(rl=Ye),!(le&7)&&!($&7)&&(El+=(Dn+Mo+en)/3,tl++)}else ne&&(ne.energy[V]=0,ne.hue[V]=0);if(R){let W=1;if(D==="surfaces"?W=H((k-Jn)/Math.max(1e-6,k)):D==="edges"&&(W=H((Jn-k)/Math.max(1e-6,1-k))),W>.001){let re=Rt,oe=Il;if(hr&&Jn>=k){const ge=Math.hypot(pn[V],wo[V])+1e-8,nt=-wo[V]/ge,Ot=pn[V]/ge,st=Math.hypot(re,oe);if(st>1e-6){const gn=(re*nt+oe*Ot)/(st+1e-9),Mt=Uu((gn+1)*.5,fn),Ln=H(fn*Xt*Mt),qn=nt*st,An=Ot*st;re=jr(re,qn,Ln),oe=jr(oe,An,Ln)}}if(Ea){const ge=Math.hypot(Ne,et);if(ge>1e-6){const nt=Math.hypot(re,oe);if(nt>1e-6){const Ot=Ne/ge*nt,st=et/ge*nt,gn=H(Hn*Xt*.75);re=jr(re,Ot,gn),oe=jr(oe,st,gn)}}}const U=Math.hypot(re,oe)+1e-6,Er=Math.atan2(oe,re),Le=1+.5*Oe.anisotropy*Math.cos(2*Er),me=H(K*U*Le),Xe=Er+r*.45;let he=H(.5+.5*Math.sin(Xe)),Ae=H(.5+.5*Math.sin(Xe+2*Math.PI/3)),tt=H(.5+.5*Math.sin(Xe+4*Math.PI/3));if(he*=me,Ae*=me,tt*=me,Me==="grayBaseGrayRims"){const ge=ad(he,Ae,tt);he=ge,Ae=ge,tt=ge}let xe=N*W;if(hr){const ge=Bu(Ye/(.75+.25*Oe.gain),vt),nt=Ve(1+Xt*vt*ge,.2,3);xe*=nt}if(Gn&&vr){const ge=H(vr[V]),nt=yr?H(yr[V]):ge,Ot=.5*(ge+nt),st=Ve(1+Xt*So*(Ot-.5)*1.5,.1,3);xe*=st}xe=H(xe),l[b+0]=Math.floor(l[b+0]*(1-xe)+he*255*xe),l[b+1]=Math.floor(l[b+1]*(1-xe)+Ae*255*xe),l[b+2]=Math.floor(l[b+2]*(1-xe)+tt*255*xe),Ta+=xe,xe>ol&&(ol=xe),Zn++}}}const Nn=Oo(Rl,Ml,nl);ue.rim={mean:Nn.mean,std:Nn.std,max:rl,count:nl};const Ro=Oo(Tl,Pl,Qe),zt=Qe>0?Math.atan2(ll,Ma):0;ue.warp={mean:Ro.mean,std:Ro.std,dominantAngle:zt,count:Qe},ue.compositor.surfaceMean=Zn?Ta/Zn:0,ue.compositor.surfaceMax=ol,ue.compositor.surfaceCount=Zn;const Nl=tl>0?Ve(El/tl,.001,10):Ve(x,.001,10);let Cr;if(ne||Fe){if(Cr={},ne){const $=Number.isFinite(Jt)?Jt:0,le=_l,V=Number.isFinite(qt)?qt:0,b=Fl;Cr.rim={energyMin:$,energyMax:le,hueMin:V,hueMax:b}}Fe&&(Cr.surface={magnitudeMax:kr,orientationCount:Fe.orientationCount})}return{metrics:ue,obsAverage:Nl,debug:Cr}},Gg=e=>{const{data:t,width:n,height:r}=e,l=new Float32Array(n*r);for(let x=0;x<r;x++)for(let C=0;C<n;C++){const E=(x*n+C)*4;l[x*n+C]=(.2126*t[E]+.7152*t[E+1]+.0722*t[E+2])/255}const o=new Float32Array(n*r),a=new Float32Array(n*r),u=(x,C)=>C*n+x,i=[-1,0,1,-2,0,2,-1,0,1],m=[-1,-2,-1,0,0,0,1,2,1];for(let x=1;x<r-1;x++)for(let C=1;C<n-1;C++){let E=0,_=0,p=0;for(let d=-1;d<=1;d++)for(let s=-1;s<=1;s++){const k=l[u(C+s,x+d)];E+=k*i[p],_+=k*m[p],p++}o[u(C,x)]=E,a[u(C,x)]=_}const f=new Float32Array(n*r);let y=1e-6;for(let x=0;x<f.length;x++){const C=Math.hypot(o[x],a[x]);f[x]=C,C>y&&(y=C)}const g=1/y;for(let x=0;x<f.length;x++)f[x]*=g;return{kind:"rim",resolution:tu(n,r),gx:o,gy:a,mag:f}},Wg=e=>({kind:e,available:!1,resolution:null,updatedAt:null,stalenessMs:Number.POSITIVE_INFINITY,stale:!1,lastSource:null}),Qg=()=>Ac.reduce((e,t)=>(e[t]=Wg(t),e),{}),Yg=(e,t,n,r,l)=>{const o={...e[t],available:!0,resolution:n,updatedAt:l,stalenessMs:0,stale:!1,lastSource:r};return e[t]===o?e:{...e,[t]:o}},Xg=(e,t,n,r)=>{const l=e[t];if(!l.available&&l.lastSource===n)return e;const o={...l,available:!1,resolution:null,updatedAt:r,stalenessMs:Number.POSITIVE_INFINITY,stale:!1,lastSource:n};return{...e,[t]:o}},Zg=(e,t)=>{let n=!1;const r=[],l={...e};for(const o of Ac){const a=e[o],u=to[o],i=a.updatedAt,m=a.available&&i!=null?Math.max(0,t-i):Number.POSITIVE_INFINITY,f=u.lifetime.staleMs,y=a.available&&i!=null&&m>f,g=a.available?m:Number.POSITIVE_INFINITY;(Math.abs(a.stalenessMs-g)>.5||a.stale!==y)&&(n=!0,l[o]={...a,stalenessMs:g,stale:y},r.push({kind:o,becameStale:!a.stale&&y,recovered:a.stale&&!y,stalenessMs:g}))}return{next:n?l:e,changes:r}},Vu=[{name:"Rainbow Rims + DMT Kernel Effects",params:{edgeThreshold:.08,blend:.39,kernel:{gain:3,k0:.2,Q:4.6,anisotropy:.95,chirality:1.46,transparency:.28},dmt:.2,thetaMode:"gradient",thetaGlobal:0,beta2:1.9,jitter:1.16,sigma:4,microsaccade:!0,speed:1.32,contrast:1.62}}],Bo={locked:{label:"Locked coherence",description:"Low-noise lattice with stable phase alignment.",params:{K0:.85,alphaKur:.18,gammaKur:.16,omega0:0,epsKur:.0025}},highEnergy:{label:"High-energy flux",description:"Strong coupling and drive yielding intense wavefronts.",params:{K0:1.35,alphaKur:.12,gammaKur:.1,omega0:.55,epsKur:.006}},chaotic:{label:"Chaotic drift",description:"Loose locking with broadband oscillations and noise.",params:{K0:1.1,alphaKur:.28,gammaKur:.12,omega0:.35,epsKur:.012}}},ud=64,Hu=32,ei=64,Jg=2.5,qg=e=>{if(e<=0)return"0 B";const t=["B","KB","MB","GB"],n=Math.min(Math.floor(Math.log(e)/Math.log(1024)),t.length-1),r=e/Math.pow(1024,n),l=r>=100||n===0?0:r>=10?1:2;return`${r.toFixed(l)} ${t[n]}`},e1=e=>Ve(e,0,1),t1=()=>{const e=v.useRef(null);return v.useCallback(()=>{if(e.current!=null){const a=e.current;return e.current=null,a}let t=0,n=0;for(;t===0;)t=Math.random();for(;n===0;)n=Math.random();const r=Math.sqrt(-2*Math.log(t)),l=r*Math.cos(2*Math.PI*n),o=r*Math.sin(2*Math.PI*n);return e.current=o,l},[])},n1=e=>{switch(e){case"grayBaseColorRims":return 1;case"grayBaseGrayRims":return 2;case"colorBaseGrayRims":return 3;case"colorBaseBlendedRims":return 4;default:return 0}},r1={ok:{border:"rgba(34,197,94,0.35)",background:"rgba(34,197,94,0.16)",color:"#bbf7d0"},warn:{border:"rgba(251,191,36,0.4)",background:"rgba(251,191,36,0.18)",color:"#fde68a"},stale:{border:"rgba(248,113,113,0.45)",background:"rgba(248,113,113,0.2)",color:"#fecaca"},missing:{border:"rgba(148,163,184,0.35)",background:"rgba(148,163,184,0.16)",color:"#e2e8f0"}},l1={ok:"fresh",warn:"lagging",stale:"stale",missing:"missing"},o1=e=>{switch(e){case"surfaces":return 0;case"edges":return 1;default:return 2}};function a1(){var Dc;const e=v.useRef(null),t=v.useRef(null),n=v.useRef(!0),r=v.useRef(null),l=v.useRef(null),o=v.useRef([]),a=v.useRef(null),u=v.useRef(null),[i,m]=v.useState(720),[f,y]=v.useState(480),[g,x]=v.useState("gpu"),[C,E]=v.useState(null),_=v.useRef(null),p=v.useRef(null),d=v.useRef(null),[s,k]=v.useState(.22),[M,R]=v.useState(.65),[F,A]=v.useState(1),[G,B]=v.useState(!0),[ce,cn]=v.useState(!1),[Re,Vn]=v.useState(!1),[qe,_n]=v.useState(!1),[Me,N]=v.useState(1.1),[D,K]=v.useState(.5),[X,te]=v.useState(1.4),[ne,Fe]=v.useState(!0),[ue,jt]=v.useState(1),[Et,We]=v.useState(1),[vt,fn]=v.useState({gain:1,k0:.08,Q:2.2,anisotropy:.6,chirality:.4,transparency:.2}),[Yt,qr]=v.useState(0),[dn,So]=v.useState("gradient"),[Hn,Ca]=v.useState(0),[hr,nu]=v.useState("color"),[Gn,Ea]=v.useState(!0),[Wn,Xt]=v.useState(!1),[gr,jc]=v.useState(16),[pn,wo]=v.useState(!0),[Qn,mn]=v.useState("locked"),[Dt,Cl]=v.useState(!1),[hn,vr]=v.useState("p4"),[yr,Oe]=v.useState(4),[Yn,Ra]=v.useState(.35),[Sr,xo]=v.useState(1),[Xn,wr]=v.useState("surfaces"),[$e,ko]=v.useState({rimToSurfaceBlend:.6,rimToSurfaceAlign:.55,surfaceToRimOffset:.4,surfaceToRimSigma:.45,surfaceToRimHue:.5,kurToTransparency:.5,kurToOrientation:.5,kurToChirality:.6}),Fn=v.useCallback(c=>h=>ko(S=>({...S,[c]:h})),[]),[se,Co]=v.useState(!1),[Zt,Eo]=v.useState(!1),[xr,el]=v.useState(.6),[El,tl]=v.useState(.2),[Rl,Ml]=v.useState(.15),[nl,rl]=v.useState(0),[Tl,Pl]=v.useState(.002),[Qe,Ma]=v.useState(1),[ll,Ta]=v.useState(0),[ol,Zn]=v.useState(!0),[Jt,_l]=v.useState(null),[qt,Fl]=v.useState(null),[kr,Nn]=v.useState("idle"),[Ro,zt]=v.useState(null),[Nl,Cr]=v.useState(null),[$,le]=v.useState({checked:!1,best:null}),[V,b]=v.useState(()=>Qg()),[Ne,et]=v.useState(null),[Ie,be]=v.useState(null),[yt,In]=v.useState(null),Rt=v.useCallback((c,h,S)=>{const T=performance.now();b(j=>{const z=Yg(j,c,h,S,T);if(!j[c].available){const I=to[c];console.info(`[fields] ${I.label} available ${h.width}x${h.height} via ${S}`)}return z})},[]),Il=v.useCallback((c,h)=>{const S=performance.now();b(T=>{if(!T[c].available)return T;const j=to[c];return console.warn(`[fields] ${j.label} unavailable via ${h}`),Xg(T,c,h,S)})},[]),ut=v.useCallback(()=>{l.current&&(l.current.getTracks().forEach(c=>c.stop()),l.current=null)},[]),Jn=v.useMemo(()=>Math.min(i*f*24,8e7),[i,f]),Ye=v.useRef(.6),W=v.useRef(.6),re=v.useRef(!1),oe=v.useRef(null),U=v.useRef(null),Er=v.useRef(null),Le=v.useRef(null),me=v.useRef(null),Xe=v.useRef(null),he=v.useRef(null),Ae=v.useRef(null),tt=v.useRef(null),xe=v.useRef(!1),ge=v.useRef(0),nt=v.useRef(0),Ot=v.useRef([]),st=v.useRef(null),gn=v.useRef(null),Mt=v.useRef(null),Ln=v.useRef(null),qn=v.useRef(null),An=v.useRef(null),Rr=v.useRef({count:0,cos:new Float32Array(0),sin:new Float32Array(0)}),al=v.useRef({enabled:!1,samples:[],maxSamples:120,label:"frame-profiler"});v.useEffect(()=>{const c=window.setInterval(()=>{const h=performance.now();b(S=>{const{next:T,changes:j}=Zg(S,h);if(j.length===0)return S;for(const z of j){const I=to[z.kind];z.becameStale?console.warn(`[fields] ${I.label} stale ${z.stalenessMs.toFixed(0)}ms`):z.recovered&&console.info(`[fields] ${I.label} recovered`)}return T})},300);return()=>window.clearInterval(c)},[]);const jn=v.useRef([]),Dn=v.useRef({enabled:!0,thresholds:{frame:28,renderGpu:10,renderCpu:20,kuramoto:8},history:[],lastLogTs:0}),Mo=t1(),en=v.useCallback((c,h)=>{const S=Dn.current;if(!S.enabled)return;const T=S.thresholds[c]??S.thresholds.frame;if(h>T){const j=performance.now();j-S.lastLogTs>1e3&&(console.warn(`[telemetry] ${c} ${h.toFixed(2)}ms`),S.lastLogTs=j)}S.history.push({phase:c,ms:h,ts:performance.now()}),S.history.length>360&&S.history.shift()},[]);v.useEffect(()=>{Dn.current.enabled=ol},[ol]),v.useEffect(()=>(window.__getFrameMetrics=()=>[...jn.current],()=>{window.__getFrameMetrics=void 0}),[]);const Bt=v.useMemo(()=>{const c=Ve(Math.round(yr),2,8);return Array.from({length:c},(h,S)=>S*2*Math.PI/c)},[yr]),er=v.useMemo(()=>({L:560,M:530,S:420}),[]),tr=520,To=v.useMemo(()=>Ac.map(c=>{const h=V[c],S=to[c],T=h.stalenessMs;let j;return h.available?h.stale?j="stale":S.lifetime.expectedMs!==Number.POSITIVE_INFINITY&&T>S.lifetime.expectedMs*1.5?j="warn":j="ok":j="missing",{kind:c,label:S.label,state:j,stalenessMs:T,resolution:h.resolution}}),[V]),tn=v.useCallback(()=>{(!oe.current||oe.current.width!==i||oe.current.height!==f)&&(oe.current=qf(i,f));const c=i*f;if(!U.current||U.current.gradX.length!==c||U.current.resolution.width!==i||U.current.resolution.height!==f){const h=new ArrayBuffer(Du(i,f));Er.current=h;const S=Za(h,i,f);return Ir(S,"cpu:init"),U.current=S,Le.current=S.gradX,me.current=S.gradY,Xe.current=S.vort,he.current=S.coh,Ae.current=S.amp,!0}return Ir(U.current,"cpu:reuse"),Le.current=U.current.gradX,me.current=U.current.gradY,Xe.current=U.current.vort,he.current=U.current.coh,Ae.current=U.current.amp,!1},[i,f]),Pa=v.useCallback(c=>{let h=gn.current;if(!h||h.width!==i||h.height!==f){const S=c.createImageData(i,f);h={image:S,data:S.data,width:i,height:f},gn.current=h}return h},[i,f]),Ll=v.useCallback(()=>{const c=i*f;let h=Ln.current;return!h||h.energy.length!==c?(h={energy:new Float32Array(c),hue:new Float32Array(c),energyHist:new Uint32Array(ud),hueHist:new Uint32Array(ud)},Ln.current=h):(h.energyHist.fill(0),h.hueHist.fill(0)),h},[i,f]),Mr=v.useCallback(c=>{var j;if(c<=0)return null;const h=i*f;let S=qn.current;if(!S||S.orientationCount!==c||S.magnitudes.length!==c||((j=S.magnitudes[0])==null?void 0:j.length)!==h){const z=Array.from({length:c},()=>new Float32Array(h)),I=Array.from({length:c},()=>new Float32Array(h));S={phases:z,magnitudes:I,magnitudeHist:new Float32Array(c*Hu),orientationCount:c},qn.current=S}else S&&S.magnitudeHist.fill(0);return S??null},[i,f]),zn=v.useCallback((c,h,S,T)=>{if(c)if(ce&&h&&(T!=null&&T.rim)?et({energyRange:[T.rim.energyMin,T.rim.energyMax],hueRange:[T.rim.hueMin,T.rim.hueMax],energyHist:Array.from(h.energyHist),hueHist:Array.from(h.hueHist)}):ce||et(null),Re&&S&&(T!=null&&T.surface)){const j=[];for(let z=0;z<S.orientationCount;z++){const I=z*Hu,Q=S.magnitudeHist.slice(I,I+Hu);j.push(Array.from(Q))}be({orientationCount:S.orientationCount,magnitudeMax:T.surface.magnitudeMax,magnitudeHist:j})}else Re||be(null)},[ce,Re,et,be]),Al=v.useCallback((c,h)=>{if(!c){qe||In(null);return}if(qe&&h&&h.amp){let S=An.current;!S||S.length!==ei?(S=new Float32Array(ei),An.current=S):S.fill(0);let T=Number.POSITIVE_INFINITY,j=0;const z=h.amp;for(let I=0;I<z.length;I++){const Q=z[I];Q<T&&(T=Q),Q>j&&(j=Q);const Z=Math.min(.999999,Q/Jg),de=Math.min(ei-1,Math.floor(Z*ei));S[de]+=1}In({ampRange:[Number.isFinite(T)?T:0,j],ampHist:Array.from(S)})}else(!qe||!h)&&In(null)},[qe,In]),_a=v.useCallback(c=>(Rr.current.count!==c&&(Rr.current={count:c,cos:new Float32Array(c),sin:new Float32Array(c)}),Rr.current),[]),Tr=v.useCallback(()=>{const c=t.current;if(!c)return;const{renderer:h}=c;_.current&&h.uploadBase(_.current),d.current&&h.uploadRim(d.current),n.current=!1},[]),nr=v.useCallback(()=>{if(g!=="gpu")return null;const c=e.current;if(!c)return null;c.width=i,c.height=f;let h=t.current;if(!h||h.gl.canvas!==c){const S=c.getContext("webgl2",{alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!0});if(!S)return console.warn("[gpu] WebGL2 unavailable; falling back to CPU renderer."),x("cpu"),null;h&&h.renderer.dispose();const T=rd(S);h={gl:S,renderer:T},t.current=h,n.current=!0}return h.renderer.resize(i,f),n.current&&Tr(),h},[g,i,f,Tr]),Pr=v.useCallback((c,h=120,S="frame-profiler")=>{const T=al.current;T.enabled=c,T.maxSamples=h,T.samples=[],T.label=S,console.log(`[frame-profiler] ${c?`collecting ${h} samples (${S})`:"disabled"}`)},[]),vn=v.useCallback(c=>{tn(),!(!oe.current||!U.current)&&ed(oe.current,c,U.current)},[tn]),Ut=v.useCallback(()=>({alphaKur:El,gammaKur:Rl,omega0:nl,K0:xr,epsKur:Tl}),[El,Rl,nl,xr,Tl]);v.useEffect(()=>{se?vn(Qe):(tn(),U.current&&(U.current.gradX.fill(0),U.current.gradY.fill(0),U.current.vort.fill(0),U.current.coh.fill(.5),U.current.amp.fill(0),Ae.current=U.current.amp,Il("phase","cpu-reset")),Il("volume","cpu-reset"))},[se,Qe,vn,tn]);const St=v.useCallback(c=>{if(!se||(tn(),!oe.current))return;td(oe.current,Ut(),c,Mo);const h=Ag(oe.current);Tg(h,"cpu:volume"),Rt("volume",h.resolution,"cpu")},[se,tn,Ut,Mo]),ct=v.useCallback(()=>{se&&(tn(),!(!oe.current||!U.current)&&(nd(oe.current,U.current),Rt("phase",U.current.resolution,"cpu")))},[se,tn]),rt=v.useCallback(()=>{vn(Qe),!re.current&&tt.current&&xe.current&&tt.current.postMessage({kind:"reset",qInit:Qe})},[vn,Qe]),Tt=v.useCallback(()=>{mn("custom")},[mn]),fe=v.useCallback(c=>{const h=Bo[c];el(h.params.K0),tl(h.params.alphaKur),Ml(h.params.gammaKur),rl(h.params.omega0),Pl(h.params.epsKur),mn(c),rt()},[el,tl,Ml,rl,Pl,rt]);v.useEffect(()=>{re.current=Zt},[Zt]);const ve=v.useCallback(()=>{Ot.current=[],st.current=null,ge.current=0,nt.current=0,Le.current=null,me.current=null,Xe.current=null,he.current=null,Ae.current=null,An.current=null},[]),Be=v.useCallback(c=>{const h=tt.current;if(h)try{h.postMessage({kind:"returnBuffer",buffer:c.buffer},[c.buffer])}catch(S){console.debug("[kur-worker] buffer return skipped",S)}},[]),ft=v.useCallback(()=>{if(!tt.current)return;const h=Ot.current;if(h.length===0)return;const S=h.shift(),T=st.current;st.current=S,Le.current=S.gradX,me.current=S.gradY,Xe.current=S.vort,he.current=S.coh,Ae.current=S.amp,T&&Be(T)},[Be]),De=v.useCallback(c=>{if(!tt.current)return;ge.current=Math.max(ge.current-1,0);const h=Za(c.buffer,i,f);Ir(h,"worker:frame"),Rt("phase",h.resolution,"worker");const S={buffer:c.buffer,gradX:h.gradX,gradY:h.gradY,vort:h.vort,coh:h.coh,amp:h.amp,timestamp:c.timestamp,frameId:c.frameId};Ot.current.push(S),re.current||ft()},[f,i,ft]),dt=v.useCallback(()=>{const c=tt.current;c&&c.terminate(),tt.current=null,xe.current=!1,ge.current=0,nt.current=0,ve()},[ve]),jl=v.useCallback(c=>{switch(c.kind){case"ready":xe.current=!0;break;case"frame":De(c);break;case"log":console.log(c.message);break;default:console.warn("[kur-worker] unknown message",c);break}},[De]),Dl=v.useCallback(()=>{if(!se||re.current)return;dt(),ve();const c=Du(i,f),h=[new ArrayBuffer(c),new ArrayBuffer(c)],S=new Worker(new URL("/assets/kuramotoWorker-DQUoR51k.js",import.meta.url),{type:"module"});tt.current=S,xe.current=!1,ge.current=0,nt.current=0,Ot.current=[],st.current=null,S.onmessage=T=>{jl(T.data)},S.postMessage({kind:"init",width:i,height:f,params:Ut(),qInit:Qe,buffers:h,seed:Math.floor(Math.random()*1e9)},h)},[ve,Ut,jl,f,se,Qe,dt,i]);v.useEffect(()=>{if(!se||Zt){dt(),ve(),se&&Zt&&(tn(),vn(Qe));return}return Dl(),()=>{dt(),ve()}},[se,Zt,Dl,dt,ve,tn,vn,Qe]),v.useEffect(()=>{if(!se||re.current)return;const c=tt.current;!c||!xe.current||c.postMessage({kind:"updateParams",params:Ut()})},[Ut,se,Zt]);const yn=v.useCallback((c,h,S=!0,T)=>{const j=p.current;j&&ju(j,"cpu:surface");const z=d.current;z&&mi(z,"cpu:rim");let I=null;const Q=U.current;if(Q){const Ce=Q.resolution,Ue=(T==null?void 0:T.gradX)??Le.current,ee=(T==null?void 0:T.gradY)??me.current,ae=(T==null?void 0:T.vort)??Xe.current,lt=(T==null?void 0:T.coh)??he.current,ye=(T==null?void 0:T.amp)??Ae.current;Ue&&ee&&ae&&lt&&ye&&(I={kind:"phase",resolution:Ce,gradX:Ue,gradY:ee,vort:ae,coh:lt,amp:ye},Ir(I,T?"phase:override":"phase:cpu"),Rt("phase",Ce,T?"worker":"cpu"))}const Z=ce?Ll():null,de=Re&&Bt.length>0?Mr(Bt.length):null,ke=id({width:i,height:f,timeSeconds:h,out:c,surface:j,rim:z,phase:I,kernel:vt,dmt:Yt,blend:M,normPin:pn,normTarget:Ye.current,lastObs:W.current,lambdaRef:tr,lambdas:er,beta2:Me,microsaccade:ne,alive:Wn,phasePin:Gn,edgeThreshold:s,wallpaperGroup:hn,surfEnabled:Dt,orientationAngles:Bt,thetaMode:dn,thetaGlobal:Hn,polBins:gr,jitter:D,coupling:$e,sigma:X,contrast:Et,rimAlpha:F,rimEnabled:G,displayMode:hr,surfaceBlend:Yn,surfaceRegion:Xn,warpAmp:Sr,kurEnabled:se,debug:Z||de?{rim:Z??void 0,surface:de??void 0}:void 0});S&&ke.obsAverage!=null&&(W.current=ke.obsAverage),S&&ke.metrics&&(jn.current.push({backend:"cpu",ts:performance.now(),metrics:ke.metrics}),jn.current.length>240&&jn.current.shift()),zn(S,Z,de,ke.debug),Al(S,I)},[vt,Yt,M,pn,er,tr,Me,ne,Wn,p,d,Gn,f,i,s,hn,Dt,Bt,dn,Hn,gr,D,$e,X,Et,F,G,hr,Yn,Xn,Sr,se,Ll,Mr,zn,Al,pn,_]),_r=v.useCallback((c,h,S)=>{const{gl:T,renderer:j}=c;if(!d.current||!_.current){T.clear(T.COLOR_BUFFER_BIT);return}const z=ce?Ll():null,I=Re&&Bt.length>0?Mr(Bt.length):null,Q=Dn.current.enabled&&S,Z=Q?performance.now():0,de=km(vt,Yt),ke=e1(M+de.transparency*.5),Ce=1e-6,Ue=pn?Math.pow((Ye.current+Ce)/(W.current+Ce),.5):1,ee={L:Me*(tr/er.L-1),M:Me*(tr/er.M-1),S:Me*(tr/er.S-1)},ae=ne?h*6:0,lt=Wn?.15*Math.sin(2*Math.PI*.55*h):0,ye=d.current,{gx:Pt,gy:_t,mag:rr}=ye,lr=Le.current,ul=me.current,Bl=Xe.current,zc=he.current,Oc=Ae.current,iu=p.current;iu&&ju(iu,"gpu:surface"),mi(ye,"gpu:rim-active");const Bc=U.current,_o=Bc&&lr&&ul&&Bl&&zc&&Oc?{kind:"phase",resolution:Bc.resolution,gradX:lr,gradY:ul,vort:Bl,coh:zc,amp:Oc}:null;_o&&Ir(_o,"gpu:phase-active");const Im=Cm(hn),Lm=$g(Im),Am=Dt||$e.surfaceToRimOffset>1e-4||$e.surfaceToRimSigma>1e-4||$e.surfaceToRimHue>1e-4,Uc=Bt.length,uu=_a(Uc),jm=uu.cos,Dm=uu.sin;for(let Sn=0;Sn<Uc;Sn++)jm[Sn]=Math.cos(Bt[Sn]),Dm[Sn]=Math.sin(Bt[Sn]);const zm=i*.5,Om=f*.5;let Kc=0;if(Gn&&ne){let Sn=0,Fr=0;for(let Ia=0;Ia<f;Ia+=8)for(let La=0;La<i;La+=8){const Um=Ia*i+La;rr[Um]>=s&&(Sn+=Math.sin(ae+Bs(La,Ia)*Math.PI*2),Fr++)}Kc=Fr?Sn/Fr:0}let $c;if(S){(!Mt.current||Mt.current.length!==i*f*4)&&(Mt.current=new Uint8ClampedArray(i*f*4));const Sn=Mt.current,Fr=id({width:i,height:f,timeSeconds:h,out:Sn,surface:iu,rim:ye,phase:_o,kernel:vt,dmt:Yt,blend:M,normPin:pn,normTarget:Ye.current,lastObs:W.current,lambdaRef:tr,lambdas:er,beta2:Me,microsaccade:ne,alive:Wn,phasePin:Gn,edgeThreshold:s,wallpaperGroup:hn,surfEnabled:Dt,orientationAngles:Bt,thetaMode:dn,thetaGlobal:Hn,polBins:gr,jitter:D,coupling:$e,sigma:X,contrast:Et,rimAlpha:F,rimEnabled:G,displayMode:hr,surfaceBlend:Yn,surfaceRegion:Xn,warpAmp:Sr,kurEnabled:se,debug:z||I?{rim:z??void 0,surface:I??void 0}:void 0});$c=Fr.debug,jn.current.push({backend:"gpu",ts:performance.now(),metrics:Fr.metrics}),jn.current.length>240&&jn.current.shift(),Fr.obsAverage!=null&&(W.current=Fr.obsAverage)}zn(S,z,I,$c),Al(S,_o),j.uploadPhase(_o);const Bm=1+.65*Yt;j.render({time:h,edgeThreshold:s,effectiveBlend:ke,displayMode:n1(hr),baseOffsets:[ee.L,ee.M,ee.S],sigma:X,jitter:D,jitterPhase:ae,breath:lt,muJ:Kc,phasePin:Gn,microsaccade:ne,polBins:gr,thetaMode:dn==="gradient"?0:1,thetaGlobal:Hn,contrast:Et,frameGain:Ue,rimAlpha:F,rimEnabled:G,warpAmp:Sr,surfaceBlend:Yn,surfaceRegion:o1(Xn),surfEnabled:Dt,kurEnabled:se,useWallpaper:Am,kernel:de,alive:Wn,beta2:Me,coupling:$e,couplingScale:Bm,orientations:uu,ops:Lm,center:[zm,Om]}),Q&&en("renderGpu",performance.now()-Z)},[d,p,_,vt,Yt,M,pn,er,tr,Me,ne,Wn,Bt,_a,hn,Dt,dn,Hn,gr,D,$e,X,Et,F,G,Sr,Yn,Xn,se,i,f,s,en,ce,Re,Ll,Mr,zn,Al,qe]),zl=v.useCallback((c,h)=>{if(!se)return;const S=Dn.current.enabled?performance.now():0;if(re.current)St(c),ct();else{const T=tt.current;if(T&&xe.current){const j=ge.current;if(j<2){const z=nt.current++;T.postMessage({kind:"tick",dt:c,timestamp:h,frameId:z}),ge.current=j+1}}ft()}S&&en("kuramoto",performance.now()-S)},[se,St,ct,ft,en]),Fa=v.useCallback((c,h)=>{const S=Dn.current.enabled,T=S?performance.now():0,j=.016*ue;zl(j,h);const z=Pa(c),I=al.current;let Q=0;I.enabled&&(Q=performance.now());let Z=0;if(S&&(Z=performance.now()),yn(z.data,h,!0),Z&&en("renderCpu",performance.now()-Z),I.enabled){const de=performance.now()-Q;if(I.samples.push(de),I.samples.length>=I.maxSamples){const ke=I.samples.length,Ue=I.samples.reduce((ye,Pt)=>ye+Pt,0)/ke,ee=[...I.samples].sort((ye,Pt)=>ye-Pt),ae=Math.min(ee.length-1,Math.floor(ee.length*.95)),lt=ee[ae]??Ue;console.log(`[${I.label}] avg ${Ue.toFixed(3)}ms p95 ${lt.toFixed(3)}ms over ${ke} frames`),I.samples=[],I.enabled=!1}}c.putImageData(z.image,0,0),T&&en("frame",performance.now()-T)},[zl,ue,Pa,yn,en]),On=v.useCallback(async(c=10)=>{if(!d.current||!p.current)return console.warn("[regression] skipping: surface or rim field not ready."),{maxDelta:0,perFrameMax:[]};if(!se)return console.warn("[regression] Kuramoto disabled; nothing to compare."),{maxDelta:0,perFrameMax:[]};const h=Ut(),S=i*f*4,T=.016*ue,j=12345,z=W.current,I=qf(i,f),Q=new ArrayBuffer(Du(i,f)),Z=Za(Q,i,f),de=Lg(j);ed(I,Qe,Z);const ke=[];for(let ae=0;ae<c;ae++){td(I,h,T,de),nd(I,Z);const lt=new Uint8ClampedArray(S),ye=ae*(1/60);yn(lt,ye,!1,Z),ke.push(lt)}let Ce;try{Ce=await new Promise((ae,lt)=>{const ye=new Worker(new URL("/assets/kuramotoWorker-DQUoR51k.js",import.meta.url),{type:"module"});ye.onmessage=Pt=>{const _t=Pt.data;_t.kind==="simulateResult"?(ye.terminate(),ae(_t.buffers)):_t.kind==="log"&&console.log(_t.message)},ye.onerror=Pt=>{ye.terminate(),lt(Pt)},ye.postMessage({kind:"simulate",frameCount:c,dt:T,params:h,width:i,height:f,qInit:Qe,seed:j})})}catch(ae){return console.error("[regression] worker simulation failed",ae),W.current=z,{maxDelta:1/0,perFrameMax:[]}}const Ue=[];let ee=0;for(let ae=0;ae<c;ae++){const lt=Za(Ce[ae],i,f),ye=new Uint8ClampedArray(S),Pt=ae*(1/60);yn(ye,Pt,!1,lt);const _t=ke[ae];let rr=0;for(let lr=0;lr<S;lr++){const ul=Math.abs(ye[lr]-_t[lr])/255;ul>rr&&(rr=ul)}Ue.push(rr),rr>ee&&(ee=rr)}return W.current=z,console.log(`[regression] compared ${c} frames, max normalized delta ${ee}`),console.assert(ee<1e-6,`[regression] expected <=1e-6 delta, saw max ${ee}`),{maxDelta:ee,perFrameMax:Ue}},[d,p,se,i,f,yn,Ut,ue,Qe]),nn=v.useCallback(async()=>{if(!d.current||!_.current||!p.current)return console.warn("[gpu-regression] base pixels, surface, or rim data unavailable."),null;const c=document.createElement("canvas");c.width=i,c.height=f;const h=c.getContext("webgl2",{alpha:!1,premultipliedAlpha:!1,antialias:!1,preserveDrawingBuffer:!0});if(!h)return console.warn("[gpu-regression] WebGL2 unavailable for parity check."),null;const S=rd(h);S.resize(i,f),S.uploadBase(_.current),S.uploadRim(d.current);const T=U.current,j=T&&Le.current&&me.current&&Xe.current&&he.current&&Ae.current?{kind:"phase",resolution:T.resolution,gradX:Le.current,gradY:me.current,vort:Xe.current,coh:he.current,amp:Ae.current}:null;j&&Ir(j,"gpu:parity-phase"),S.uploadPhase(j);const z={gl:h,renderer:S},I=i*f*4,Q=new Uint8ClampedArray(I),Z=new Uint8Array(I),de=i*f,ke=[{label:"scene-A",time:0},{label:"scene-B",time:.37},{label:"scene-C",time:.73}],Ce=[],Ue=W.current;try{for(const ee of ke){const ae=T&&Le.current&&me.current&&Xe.current&&he.current&&Ae.current?{kind:"phase",resolution:T.resolution,gradX:Le.current,gradY:me.current,vort:Xe.current,coh:he.current,amp:Ae.current}:null;ae&&Ir(ae,"gpu:parity-phase-loop"),S.uploadPhase(ae),yn(Q,ee.time,!1),_r(z,ee.time,!1),h.finish(),S.readPixels(Z);let lt=0,ye=0;for(let Pt=0;Pt<de;Pt++){const _t=Pt*4,rr=Math.abs(Q[_t]-Z[_t]),lr=Math.abs(Q[_t+1]-Z[_t+1]),ul=Math.abs(Q[_t+2]-Z[_t+2]),Bl=Math.max(rr,lr,ul);Bl>ye&&(ye=Bl),Bl>1&&lt++}Ce.push({label:ee.label,mismatched:lt,percent:lt/de*100,maxDelta:ye})}}finally{W.current=Ue,S.dispose()}return{scenes:Ce,tolerancePercent:.5}},[d,p,_,i,f,Le,me,Xe,he,yn,_r]),Po=v.useCallback((c=60)=>{if(!d.current||!_.current||!p.current)return console.warn("[perf] surface or rim field unavailable."),null;const h=W.current,S=i*f*4,T=new Uint8ClampedArray(S),j=performance.now();for(let ee=0;ee<c;ee++){const ae=ee*.016666666666666666;yn(T,ae,!1)}const I=(performance.now()-j)/c,Q=I>0?1e3/I:1/0,Z=nr();if(!Z)return console.warn("[perf] GPU renderer unavailable."),W.current=h,null;const de=performance.now();for(let ee=0;ee<c;ee++){const ae=ee*.016666666666666666;_r(Z,ae,!1)}Z.gl.finish();const Ce=(performance.now()-de)/c,Ue=Ce>0?1e3/Ce:1/0;return W.current=h,{frameCount:c,cpuMs:I,gpuMs:Ce,cpuFps:Q,gpuFps:Ue,throughputGain:I/Ce}},[d,p,_,i,f,yn,nr,_r]),Em=v.useCallback(async()=>{const c=await nn();if(!c){_l(null);return}_l({...c,timestamp:Date.now()})},[nn]),Rm=v.useCallback((c=120)=>{const h=Po(c);if(!h){Fl(null);return}Fl({...h,timestamp:Date.now()})},[Po]),ru=v.useCallback(c=>{!c&&t.current&&(t.current.renderer.dispose(),t.current=null),c&&(n.current=!0),x(c?"gpu":"cpu")},[x]),il=v.useMemo(()=>{if(!Jt||Jt.scenes.length===0)return null;const c=Jt.scenes.reduce((S,T)=>T.percent>S.percent?T:S,Jt.scenes[0]),h=c.percent<=Jt.tolerancePercent;return{worst:c,within:h,tolerance:Jt.tolerancePercent}},[Jt]),Na=v.useMemo(()=>qt?{cpuMs:qt.cpuMs,gpuMs:qt.gpuMs,cpuFps:qt.cpuFps,gpuFps:qt.gpuFps,throughputGain:qt.throughputGain}:null,[qt]),Ol=kr==="recording",lu=kr==="finalizing",Mm=$.checked&&((Dc=$.best)==null?void 0:Dc.container)!=="mp4",Tm=$.checked&&!!$.best&&$.best.container==="mp4",ou=lu||!Ol&&!Tm,Pm=v.useMemo(()=>(Jn/1e6).toFixed(1),[Jn]);v.useEffect(()=>{if(typeof window>"u")return;const c=window.MediaRecorder;if(!c||typeof c.isTypeSupported!="function"){le({checked:!0,best:null});return}const S=[{mimeType:"video/mp4;codecs=avc1.4d402a",container:"mp4"},{mimeType:"video/mp4;codecs=avc1.4d401e",container:"mp4"},{mimeType:"video/mp4;codecs=h264",container:"mp4"},{mimeType:"video/mp4",container:"mp4"},{mimeType:"video/webm;codecs=vp9",container:"webm"},{mimeType:"video/webm;codecs=vp8",container:"webm"},{mimeType:"video/webm",container:"webm"}].find(T=>{try{return c.isTypeSupported(T.mimeType)}catch{return!1}});le({checked:!0,best:S??null})},[le]);const _m=v.useCallback(()=>{if(zt(null),kr!=="idle")return;if(!$.checked){zt("Detecting capture support, please try again in a moment.");return}if(!$.best){zt("MediaRecorder is unavailable in this browser.");return}if($.best.container!=="mp4"){zt("This browser cannot record MP4 directly. Try Safari 17+ or export WebM and convert with ffmpeg.");return}const c=e.current;if(!c){zt("Canvas is not ready yet.");return}if(typeof c.captureStream!="function"){zt("canvas.captureStream() is not supported in this environment.");return}const h=window.MediaRecorder;if(!h){zt("MediaRecorder constructor is missing on window.");return}a.current&&(URL.revokeObjectURL(a.current),a.current=null),Cr(null),o.current=[],u.current=$.best.mimeType;try{const S=c.captureStream(60);l.current=S;const T=S.getVideoTracks()[0];T&&typeof T.applyConstraints=="function"&&T.applyConstraints({frameRate:{ideal:60,max:60}}).catch(()=>{});const j=new h(S,{mimeType:$.best.mimeType,videoBitsPerSecond:Jn});r.current=j,Nn("recording"),j.ondataavailable=z=>{z.data&&z.data.size>0&&o.current.push(z.data)},j.onerror=z=>{const I=z.error,Q=(I==null?void 0:I.message)??"Recorder error.";o.current=[],u.current=null,ut(),r.current=null,Nn("idle"),zt(Q)},j.onstop=()=>{var Ue;const z=o.current;o.current=[];const I=u.current??((Ue=$.best)==null?void 0:Ue.mimeType)??"video/mp4";if(u.current=null,ut(),r.current=null,!z.length){Nn("idle"),zt("Recorder produced no data.");return}const Q=new Blob(z,{type:I}),Z=new Date().toISOString().replace(/[:.]/g,"-"),de=I.includes("mp4")?"mp4":I.includes("webm")?"webm":"mp4",ke=`rainbow-perimeter-${Z}.${de}`;a.current&&URL.revokeObjectURL(a.current);const Ce=URL.createObjectURL(Q);a.current=Ce,Cr({url:Ce,size:Q.size,mimeType:I,filename:ke}),Nn("idle")},j.start(1e3)}catch(S){o.current=[],u.current=null,ut(),r.current=null,Nn("idle"),zt(S instanceof Error?S.message:String(S))}},[$,e,Jn,kr,Cr,ut]),Fm=v.useCallback(()=>{const c=r.current;if(c){if(c.state==="inactive"){ut(),r.current=null;return}Nn("finalizing");try{c.stop()}catch(h){ut(),r.current=null,o.current=[],u.current=null,Nn("idle"),zt(h instanceof Error?h.message:String(h))}}},[ut]);v.useEffect(()=>{if(typeof window>"u")return;const c=window;c.__setFrameProfiler=Pr,c.__runFrameRegression=On,c.__runGpuParityCheck=nn,c.__measureRenderPerformance=Po;const h=S=>{ru(S==="gpu")};return c.__setRenderBackend=h,c.__setTelemetryEnabled=S=>{Zn(!!S)},c.__getTelemetryHistory=()=>[...Dn.current.history],()=>{c.__setFrameProfiler===Pr&&delete c.__setFrameProfiler,c.__runFrameRegression===On&&delete c.__runFrameRegression,c.__runGpuParityCheck===nn&&delete c.__runGpuParityCheck,c.__measureRenderPerformance===Po&&delete c.__measureRenderPerformance,c.__setRenderBackend===h&&delete c.__setRenderBackend,c.__setTelemetryEnabled===Zn&&delete c.__setTelemetryEnabled,c.__getTelemetryHistory&&delete c.__getTelemetryHistory}},[Pr,On,nn,Po,ru,Zn]),v.useEffect(()=>{const c=e.current;if(!c)return;let h=!0,S=0;const T=performance.now();if(g==="gpu"){const I=()=>{if(!h)return;const Q=nr();if(!Q){h=!1;return}const Z=Dn.current.enabled?performance.now():0,de=(performance.now()-T)*.001,ke=.016*ue;zl(ke,de),_r(Q,de,!0),Z&&en("frame",performance.now()-Z),S=requestAnimationFrame(I)};return I(),()=>{h=!1,cancelAnimationFrame(S)}}const j=c.getContext("2d",{willReadFrequently:!0});if(!j)return;c.width=i,c.height=f;const z=()=>{if(!h)return;const I=(performance.now()-T)*.001;Fa(j,I),S=requestAnimationFrame(z)};return z(),()=>{h=!1,cancelAnimationFrame(S)}},[g,nr,_r,Fa,zl,ue,i,f,en]),v.useEffect(()=>()=>{const c=r.current;if(c&&c.state!=="inactive")try{c.stop()}catch{}r.current=null,o.current=[],u.current=null,ut(),a.current&&(URL.revokeObjectURL(a.current),a.current=null)},[ut]);const Nm=v.useCallback(async c=>{var ee;const h=(ee=c.target.files)==null?void 0:ee[0];if(!h)return;const S=await createImageBitmap(h),j=Math.min(1,1e3/Math.max(S.width,S.height)),z=Math.max(1,Math.round(S.width*j)),I=Math.max(1,Math.round(S.height*j));m(z),y(I),E(S);const Q=document.createElement("canvas");Q.width=z,Q.height=I;const Z=Q.getContext("2d",{willReadFrequently:!0});if(!Z)return;Z.drawImage(S,0,0,z,I);const de=Z.getImageData(0,0,z,I);_.current=de;const ke=Pg(de);ju(ke,"io:surface"),p.current=ke,Rt("surface",ke.resolution,"io:file");const Ce=Gg({data:de.data,width:z,height:I});mi(Ce,"io:rim"),d.current=Ce,Rt("rim",Ce.resolution,"io:file"),n.current=!0;const Ue=t.current;Ue&&Ue.renderer.resize(z,I),Tr(),Ye.current=.6,W.current=.6},[Tr]),au=v.useCallback(c=>{const h=c.params;k(h.edgeThreshold),R(h.blend),fn({...h.kernel}),qr(h.dmt),So(h.thetaMode),Ca(h.thetaGlobal),N(h.beta2),K(h.jitter),te(h.sigma),Fe(h.microsaccade),jt(h.speed),We(h.contrast)},[]);return v.useEffect(()=>{au(Vu[ll])},[ll,au]),v.useEffect(()=>()=>{t.current&&(t.current.renderer.dispose(),t.current=null)},[]),v.useEffect(()=>{n.current=!0,Tr()},[i,f,Tr]),w.jsxs("main",{style:{minHeight:"100vh",padding:"2rem",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[w.jsxs("div",{children:[w.jsx("h1",{style:{margin:0,fontSize:"2.2rem"},children:"Rainbow Perimeter Lab"}),w.jsx("p",{style:{maxWidth:"52rem",color:"#94a3b8"},children:"Upload a photo, apply the Rainbow Rims preset, then fine tune the kernel, DMT gain, surface wallpaper morph, and Kuramoto coupling to explore the hallucinatory perimeter lines described in the design brief."})]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(22rem, 27rem) 1fr",gap:"1.5rem",alignItems:"start"},children:[w.jsxs("div",{className:"panel",style:{gap:"1.25rem"},children:[w.jsxs("section",{className:"panel",children:[w.jsx("h2",{children:"Image & Preset"}),w.jsxs("div",{className:"control",children:[w.jsx("label",{htmlFor:"file-input",children:"Upload image"}),w.jsx("input",{id:"file-input",type:"file",accept:"image/*",onChange:Nm})]}),w.jsx(Uo,{label:"Preset",value:ll.toString(),onChange:c=>Ta(parseInt(c,10)),options:Vu.map((c,h)=>({value:h.toString(),label:c.name}))}),w.jsx("button",{onClick:()=>au(Vu[ll]),style:{padding:"0.5rem 0.75rem",borderRadius:"0.6rem",border:"1px solid rgba(148,163,184,0.35)",background:"rgba(14, 116, 144, 0.2)",color:"#f8fafc",cursor:"pointer"},children:"Apply preset"})]}),w.jsxs("section",{className:"panel",children:[w.jsx("h2",{children:"Diagnostics"}),w.jsx($t,{label:"Use GPU renderer",value:g==="gpu",onChange:ru}),w.jsx($t,{label:"Telemetry logging",value:ol,onChange:Zn}),w.jsx($t,{label:"Enable rim generator",value:G,onChange:B}),w.jsx($t,{label:"Rim debug overlays",value:ce,onChange:cn}),w.jsx($t,{label:"Surface flow debug",value:Re,onChange:Vn}),w.jsx($t,{label:"Phase amplitude debug",value:qe,onChange:_n}),w.jsxs("div",{className:"control",children:[w.jsx("button",{onClick:()=>Em(),style:{padding:"0.5rem 0.75rem",borderRadius:"0.6rem",border:"1px solid rgba(148,163,184,0.35)",background:"rgba(147, 197, 253, 0.18)",color:"#f8fafc",cursor:"pointer"},children:"Run GPU parity check"}),il&&w.jsxs("small",{style:{display:"block",marginTop:"0.4rem",color:il.within?"#38bdf8":"#f87171"},children:["worst ",il.worst.label,": ",w.jsx("span",{style:{fontFamily:"monospace"},children:il.worst.maxDelta.toFixed(2)})," ","| ",il.worst.percent.toFixed(2),"% <= ",il.tolerance.toFixed(2),"%?"," ",il.within?"OK":"Check reference"]})]}),w.jsxs("div",{className:"control",children:[w.jsx("button",{onClick:()=>Rm(),style:{padding:"0.5rem 0.75rem",borderRadius:"0.6rem",border:"1px solid rgba(148,163,184,0.35)",background:"rgba(94, 234, 212, 0.18)",color:"#f8fafc",cursor:"pointer"},children:"Measure render throughput (120 frames)"}),Na&&w.jsxs("small",{style:{display:"block",marginTop:"0.4rem",color:"#94a3b8"},children:["GPU ",Na.gpuFps.toFixed(0)," fps (~",Na.throughputGain.toFixed(1)," vs"," ",Na.cpuMs.toFixed(1)," ms CPU)"]})]}),ce&&Ne||Re&&Ie||qe&&yt?w.jsxs("div",{className:"control",style:{display:"flex",flexDirection:"column",gap:"0.75rem",background:"rgba(15,23,42,0.45)",borderRadius:"0.85rem",padding:"0.75rem"},children:[ce&&Ne&&w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.6rem"},children:[w.jsx(ti,{title:"Rim energy",bins:Ne.energyHist,defaultColor:"#f97316",rangeLabel:`${Ne.energyRange[0].toFixed(2)}  ${Ne.energyRange[1].toFixed(2)}`}),w.jsx(ti,{title:"Rim hue",bins:Ne.hueHist,colorForBin:c=>`hsl(${c/Math.max(Ne.hueHist.length-1,1)*360}, 80%, 60%)`,rangeLabel:`${(Ne.hueRange[0]*360).toFixed(0)}  ${(Ne.hueRange[1]*360).toFixed(0)}`})]}),Re&&Ie&&w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.6rem"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#cbd5f5"},children:[w.jsx("span",{children:"Surface flow magnitudes"}),w.jsxs("span",{children:["max ",Ie.magnitudeMax.toFixed(2)]})]}),Ie.magnitudeHist.map((c,h)=>w.jsx(ti,{title:`Orientation ${h+1}`,bins:c,defaultColor:"#38bdf8"},`surface-hist-${h}`))]}),qe&&yt&&w.jsx(ti,{title:"Phase amplitude |Z|",bins:yt.ampHist,defaultColor:"#a855f7",rangeLabel:`${yt.ampRange[0].toFixed(2)}  ${yt.ampRange[1].toFixed(2)}`})]}):null,w.jsx("div",{style:{marginTop:"0.75rem",display:"grid",gap:"0.4rem"},children:To.map(c=>{const h=r1[c.state],S=l1[c.state],T=c.resolution?`${c.resolution.width}${c.resolution.height}`:"",j=c.state==="missing"?"offline":c.stalenessMs===Number.POSITIVE_INFINITY?"idle":`${c.stalenessMs.toFixed(0)}ms`;return w.jsxs("div",{style:{border:`1px solid ${h.border}`,background:h.background,color:h.color,borderRadius:"0.65rem",padding:"0.45rem 0.6rem",display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[w.jsx("div",{style:{fontWeight:600},children:c.label}),w.jsxs("div",{style:{fontSize:"0.75rem",fontFamily:"monospace"},children:[S,"  ",T,"  ",j]})]},c.kind)})})]}),w.jsxs("section",{className:"panel",children:[w.jsx("h2",{children:"Output"}),w.jsxs("div",{className:"control",children:[w.jsx("label",{children:"MP4 capture"}),w.jsxs("div",{className:"control-row",children:[w.jsx("button",{onClick:()=>Ol?Fm():_m(),disabled:ou,style:{padding:"0.5rem 0.75rem",borderRadius:"0.6rem",border:"1px solid rgba(148,163,184,0.35)",background:Ol?"rgba(248, 113, 113, 0.25)":"rgba(59, 130, 246, 0.25)",color:"#f8fafc",cursor:ou?"not-allowed":"pointer",opacity:ou?.6:1},children:Ol?"Stop capture":lu?"Finalizing":"Start MP4 capture"}),(Ol||lu)&&w.jsx("span",{style:{color:"#fbbf24"},children:Ol?"Recording":"Finalizing"})]}),!$.checked&&w.jsx("small",{style:{color:"#94a3b8"},children:"Checking browser capture support"}),w.jsxs("small",{style:{color:"#94a3b8"},children:["Canvas ",i,"",f,"px  60 fps  target ",Pm," Mbps"]}),Ro&&w.jsx("small",{style:{color:"#f87171"},children:Ro}),Mm&&w.jsxs("small",{style:{color:"#f97316"},children:["MP4 capture unsupported (best available:"," ",$.best?$.best.mimeType:"none",")."]}),Nl&&w.jsxs("small",{style:{color:"#38bdf8"},children:["MP4 ready:"," ",w.jsxs("a",{href:Nl.url,download:Nl.filename,style:{color:"#38bdf8"},children:["Download (",qg(Nl.size),")"]})]})]})]}),w.jsxs("section",{className:"panel",children:[w.jsx("h2",{children:"Rainbow Rims"}),w.jsx(J,{label:"Edge Threshold",value:s,min:0,max:1,step:.01,onChange:k}),w.jsx(J,{label:"Kernel Blend",value:M,min:0,max:1,step:.01,onChange:R}),w.jsx(J,{label:"Dispersion ",value:Me,min:0,max:3,step:.01,onChange:N}),w.jsx(J,{label:"Rim Thickness ",value:X,min:.3,max:6,step:.05,onChange:te}),w.jsx(J,{label:"Phase Jitter",value:D,min:0,max:2,step:.02,onChange:K}),w.jsx(J,{label:"Contrast",value:Et,min:.25,max:3,step:.05,onChange:We}),w.jsx(J,{label:"Animation Speed",value:ue,min:0,max:3,step:.05,onChange:jt}),w.jsx($t,{label:"Microsaccade jitter",value:ne,onChange:Fe}),w.jsx($t,{label:"Zero-mean pin",value:Gn,onChange:Ea}),w.jsx($t,{label:"Alive microbreath",value:Wn,onChange:Xt}),w.jsx(J,{label:"Rim Alpha",value:F,min:0,max:1,step:.05,onChange:A})]}),w.jsxs("section",{className:"panel",children:[w.jsx("h2",{children:"Kernel + DMT"}),w.jsx(J,{label:"Kernel Gain",value:vt.gain,min:0,max:5,step:.05,onChange:c=>fn(h=>({...h,gain:c}))}),w.jsx(J,{label:"Spatial Frequency k",value:vt.k0,min:.01,max:.4,step:.01,onChange:c=>fn(h=>({...h,k0:c}))}),w.jsx(J,{label:"Sharpness Q",value:vt.Q,min:.5,max:8,step:.05,onChange:c=>fn(h=>({...h,Q:c}))}),w.jsx(J,{label:"Anisotropy",value:vt.anisotropy,min:0,max:1.5,step:.05,onChange:c=>fn(h=>({...h,anisotropy:c}))}),w.jsx(J,{label:"Chirality",value:vt.chirality,min:0,max:2,step:.05,onChange:c=>fn(h=>({...h,chirality:c}))}),w.jsx(J,{label:"Transparency",value:vt.transparency,min:0,max:1,step:.05,onChange:c=>fn(h=>({...h,transparency:c}))}),w.jsx(J,{label:"DMT Gain",value:Yt,min:0,max:1,step:.01,onChange:qr})]}),w.jsxs("section",{className:"panel",children:[w.jsx("h2",{children:"Surface Morph"}),w.jsx($t,{label:"Enable surface morph",value:Dt,onChange:Cl}),w.jsx(J,{label:"Surface blend",value:Yn,min:0,max:1,step:.02,onChange:Ra}),w.jsx(J,{label:"Warp amplitude",value:Sr,min:0,max:6,step:.1,onChange:xo}),w.jsx(J,{label:"Orientations",value:yr,min:2,max:8,step:1,onChange:Oe,format:c=>c.toFixed(0)}),w.jsx(Uo,{label:"Wallpaper group",value:hn,onChange:c=>vr(c),options:[{value:"off",label:"Off"},{value:"p2",label:"p2"},{value:"p4",label:"p4"},{value:"p6",label:"p6"},{value:"pmm",label:"pmm"},{value:"p4m",label:"p4m"}]}),w.jsx(Uo,{label:"Region",value:Xn,onChange:c=>wr(c),options:[{value:"surfaces",label:"Surfaces"},{value:"edges",label:"Edges"},{value:"both",label:"Both"}]})]}),w.jsxs("section",{className:"panel",children:[w.jsx("h2",{children:"Coupling Fabric"}),w.jsx("h3",{children:"Rims  Surface"}),w.jsx(J,{label:"Energy  surface blend",value:$e.rimToSurfaceBlend,min:0,max:1,step:.01,onChange:Fn("rimToSurfaceBlend"),format:c=>c.toFixed(2)}),w.jsx(J,{label:"Tangent alignment weight",value:$e.rimToSurfaceAlign,min:0,max:1,step:.01,onChange:Fn("rimToSurfaceAlign"),format:c=>c.toFixed(2)}),w.jsx("h3",{children:"Surface  Rims"}),w.jsx(J,{label:"Warp gradient  offset bias",value:$e.surfaceToRimOffset,min:0,max:1,step:.01,onChange:Fn("surfaceToRimOffset"),format:c=>c.toFixed(2)}),w.jsx(J,{label:"Warp gradient  sigma thinning",value:$e.surfaceToRimSigma,min:0,max:1,step:.01,onChange:Fn("surfaceToRimSigma"),format:c=>c.toFixed(2)}),w.jsx(J,{label:"Lattice phase  hue bias",value:$e.surfaceToRimHue,min:0,max:1,step:.01,onChange:Fn("surfaceToRimHue"),format:c=>c.toFixed(2)}),w.jsx("h3",{children:"Kuramoto Adapters"}),w.jsx(J,{label:"|Z|  transparency",value:$e.kurToTransparency,min:0,max:1,step:.01,onChange:Fn("kurToTransparency"),format:c=>c.toFixed(2)}),w.jsx(J,{label:"  orientation blend",value:$e.kurToOrientation,min:0,max:1,step:.01,onChange:Fn("kurToOrientation"),format:c=>c.toFixed(2)}),w.jsx(J,{label:"Vorticity  chirality",value:$e.kurToChirality,min:0,max:1,step:.01,onChange:Fn("kurToChirality"),format:c=>c.toFixed(2)})]}),w.jsxs("section",{className:"panel",children:[w.jsx("h2",{children:"Kuramoto Field"}),w.jsx($t,{label:"Enable OA field",value:se,onChange:Co}),w.jsx($t,{label:"Sync to main thread",value:Zt,onChange:Eo}),w.jsx(Uo,{label:"Regime",value:Qn,onChange:c=>{const h=c;h==="custom"?mn("custom"):fe(h)},options:[{value:"locked",label:Bo.locked.label},{value:"highEnergy",label:Bo.highEnergy.label},{value:"chaotic",label:Bo.chaotic.label},{value:"custom",label:"Custom (manual)"}]}),Qn!=="custom"&&w.jsx("small",{style:{display:"block",color:"#94a3b8",marginTop:"0.35rem"},children:Bo[Qn].description}),w.jsx(J,{label:"Coupling K",value:xr,min:0,max:2,step:.05,onChange:c=>{Tt(),el(c)}}),w.jsx(J,{label:"Phase lag ",value:El,min:-Math.PI,max:Math.PI,step:.05,onChange:c=>{Tt(),tl(c)}}),w.jsx(J,{label:"Line width ",value:Rl,min:0,max:1,step:.02,onChange:c=>{Tt(),Ml(c)}}),w.jsx(J,{label:"Mean freq ",value:nl,min:-2,max:2,step:.05,onChange:c=>{Tt(),rl(c)}}),w.jsx(J,{label:"Noise ",value:Tl,min:0,max:.02,step:5e-4,onChange:c=>{Tt(),Pl(c)},format:c=>c.toFixed(4)}),w.jsx(J,{label:"Init twist q",value:Qe,min:0,max:4,step:1,onChange:Ma,format:c=>c.toFixed(0)}),w.jsx("button",{onClick:rt,style:{padding:"0.5rem 0.75rem",borderRadius:"0.6rem",border:"1px solid rgba(148,163,184,0.35)",background:"rgba(30, 64, 175, 0.25)",color:"#f8fafc",cursor:"pointer"},children:"Reset Z-field"})]}),w.jsxs("section",{className:"panel",children:[w.jsx("h2",{children:"Display"}),w.jsx(Uo,{label:"Display mode",value:hr,onChange:c=>nu(c),options:[{value:"color",label:"Color base + color rims"},{value:"grayBaseColorRims",label:"Gray base + color rims"},{value:"grayBaseGrayRims",label:"Gray base + gray rims"},{value:"colorBaseGrayRims",label:"Color base + gray rims"},{value:"colorBaseBlendedRims",label:"Color base + blended rims"}]}),w.jsx(J,{label:"Polar bins",value:gr,min:0,max:32,step:1,onChange:jc,format:c=>c.toFixed(0)}),w.jsx($t,{label:"Normalization pin",value:pn,onChange:wo})]})]}),w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[w.jsx("canvas",{ref:e,width:i,height:f,style:{width:"100%",height:"auto",maxWidth:`${Math.min(i,1e3)}px`,maxHeight:`${Math.min(f,1e3)}px`,aspectRatio:`${i} / ${f}`,borderRadius:"1.25rem",border:"1px solid rgba(148,163,184,0.2)",boxShadow:"0 20px 60px rgba(15,23,42,0.65)"}}),w.jsx("p",{style:{color:"#64748b",margin:0},children:"Tip: enable the OA field once you have rims dialed in, then gradually increase K and lower  to let the oscillator field steer both rims and surface morph in a coherent way."})]})]})]})}const ti=({title:e,bins:t,defaultColor:n="#38bdf8",colorForBin:r,rangeLabel:l})=>{const o=t.reduce((a,u)=>u>a?u:a,0);return w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.45rem"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#cbd5f5"},children:[w.jsx("span",{children:e}),l?w.jsx("span",{children:l}):null]}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${t.length}, 1fr)`,alignItems:"end",gap:"2px",height:"64px",background:"rgba(15,23,42,0.45)",borderRadius:"0.6rem",padding:"6px"},children:t.map((a,u)=>{const i=o>0?a/o:0,m=r?r(u,a,o):n;return w.jsx("span",{style:{display:"block",width:"100%",height:`${Math.max(i*100,2)}%`,background:m,borderRadius:"0.35rem 0.35rem 0 0"}},u)})})]})};function J({label:e,value:t,min:n,max:r,step:l,onChange:o,format:a}){return w.jsxs("div",{className:"control",children:[w.jsx("label",{children:e}),w.jsxs("div",{className:"control-row",children:[w.jsx("input",{type:"range",min:n,max:r,step:l,value:t,onChange:u=>o(parseFloat(u.target.value))}),w.jsx("span",{children:a?a(t):t.toFixed(2)})]})]})}function $t({label:e,value:t,onChange:n}){return w.jsxs("div",{className:"control",children:[w.jsx("label",{children:e}),w.jsxs("div",{className:"control-row",children:[w.jsx("input",{type:"checkbox",checked:t,onChange:r=>n(r.target.checked)}),w.jsx("span",{children:t?"On":"Off"})]})]})}function Uo({label:e,value:t,onChange:n,options:r}){return w.jsxs("div",{className:"control",children:[w.jsx("label",{children:e}),w.jsx("select",{value:t,onChange:l=>n(l.target.value),style:{padding:"0.45rem 0.6rem",borderRadius:"0.6rem",border:"1px solid rgba(148,163,184,0.35)",background:"rgba(15,23,42,0.7)",color:"#e2e8f0"},children:r.map(l=>w.jsx("option",{value:l.value,children:l.label},l.value))})]})}Gu.createRoot(document.getElementById("root")).render(w.jsx(rh.StrictMode,{children:w.jsx(a1,{})}));
